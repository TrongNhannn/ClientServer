{"ast":null,"code":"import _toConsumableArray from\"D:/Nhan/DIPE_V2/Client/ClientServer/APP/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/Nhan/DIPE_V2/Client/ClientServer/APP/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import UserCard from'./usercard';import{Navbar,Horizon}from'../../navbar';import UsersMapper from'./usersMapper';import AddUserBox from'./adduser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default(function(props){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state;}),navState=_useSelector.navState,proxy=_useSelector.proxy,defaultImage=_useSelector.defaultImage,unique_string=_useSelector.unique_string;var _useSelector2=useSelector(function(state){return state.functions;}),openTab=_useSelector2.openTab;var label=props.label,users=props.users,removeFromUI=props.removeFromUI;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),sus=_useState2[0],setSus=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),admins=_useState4[0],setAdmins=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),userlist=_useState6[0],setUsers=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),userAdd=_useState8[0],setUserAdd=_useState8[1];useEffect(function(){dispatch({type:\"setNavBarHighLight\",payload:{url_id:2}});fetch(\"\".concat(proxy(),\"/api/\").concat(unique_string,\"/user/getall\")).then(function(res){return res.json();}).then(function(resp){var data=resp.data,success=resp.success;if(data!=undefined&&data.length>0){var _sus=data.filter(function(user){return user.account_role===\"su\";});var _admins=data.filter(function(user){return user.account_role===\"admin\";});var _users=data.filter(function(user){return user.account_role===\"user\";});setSus(_sus);setAdmins(_admins);setUsers(_users);}});},[]);var userSplitter=function userSplitter(user){var account_role=user.account_role;switch(account_role){case\"su\":setSus([].concat(_toConsumableArray(sus),[user]));break;case\"admin\":setAdmins([].concat(_toConsumableArray(admins),[user]));break;default:setUsers([].concat(_toConsumableArray(userlist),[user]));}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"fixed-default fullscreen main-bg overflow flex flex-no-wrap\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"app-container\",className:\"app fixed-default overflow \".concat(!navState?\"app-stretch\":\"app-scaled\"),style:{height:\"100vh\"},children:[/*#__PURE__*/_jsx(Horizon,{}),/*#__PURE__*/_jsx(AddUserBox,{userAdd:userAdd,setUserAdd:setUserAdd,setUsers:userSplitter}),/*#__PURE__*/_jsx(\"div\",{className:\"p-1\",id:\"app-scrollBox\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-1 min-height-full-screen column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-100-pct\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-no-wrap bg-white shadow-blur\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fill-available p-1\",children:/*#__PURE__*/_jsx(\"span\",{children:\" Ng\\u01B0\\u1EDDi d\\xF9ng\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-48-px flex flex-middle\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-72-px pointer order-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"block p-1\",onClick:function onClick(){navTrigger();},children:[/*#__PURE__*/_jsx(\"span\",{className:\"block w-24-px border-3-top\",style:{marginTop:\"4px\"}}),/*#__PURE__*/_jsx(\"span\",{className:\"block w-24-px border-3-top\",style:{marginTop:\"4px\"}}),/*#__PURE__*/_jsx(\"span\",{className:\"block w-24-px border-3-top\",style:{marginTop:\"4px\"}})]})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"m-t-0-5 fill-available bg-white shadow-blur\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-100-pct h-fit column p-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-no-wrap border-1-bottom\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"p-0-5 text-16-px block fill-available no-border\",placeholder:\"Search\",spellCheck:\"false\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-no-wrap flex-aligned\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-1-right w-48-px\",children:/*#__PURE__*/_jsx(\"img\",{className:\"w-28-px block mg-auto\",src:\"/assets/icon/viewmode/grid.png\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-0-5\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setUserAdd(true);},className:\"bold text-24-px no-border bg-green white border-radius-50-pct pointer\",style:{width:\"32px\",height:\"32px\"},children:\"+\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100-pct m-t-1\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"flex flex-no-wrap\"}),/*#__PURE__*/_jsx(\"div\",{className:\"m-t-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap w-100-pct\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-100-pct\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left\",children:\"H\\u1ECD t\\xEAn\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left\",children:\"T\\xE0i kho\\u1EA3n\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left\",children:\"S\\u0110T\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left\",children:\"\\u0110\\u1ECBa ch\\u1EC9\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left\",children:\"Quy\\u1EC1n\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"C\\xF4ng c\\u1EE5\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users&&users.length>0?users.map(function(user){return/*#__PURE__*/_jsx(UserCard,{user:user,removeFromUI:removeFromUI},user.credential_string);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",className:\"text-center\",children:\"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u ng\\u01B0\\u1EDDi d\\xF9ng.\"})})})]})})})]})]})})]})})]})})});});","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","UserCard","Navbar","Horizon","UsersMapper","AddUserBox","props","dispatch","state","navState","proxy","defaultImage","unique_string","functions","openTab","label","users","removeFromUI","sus","setSus","admins","setAdmins","userlist","setUsers","userAdd","setUserAdd","type","payload","url_id","fetch","then","res","json","resp","data","success","undefined","length","_sus","filter","user","account_role","_admins","_users","userSplitter","height","navTrigger","marginTop","width","map","credential_string"],"sources":["D:/Nhan/DIPE_V2/Client/ClientServer/APP/src/cpn/client/users/usersMapper.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport UserCard from './usercard';\r\nimport { Navbar, Horizon } from '../../navbar';\r\nimport UsersMapper from './usersMapper';\r\nimport AddUserBox from './adduser';\r\nexport default (props) => {\r\n    const dispatch = useDispatch();\r\n    const { navState, proxy, defaultImage, unique_string } = useSelector(state => state);\r\n    const { openTab } = useSelector(state => state.functions)\r\n    const { label, users, removeFromUI } = props;\r\n\r\n    const [sus, setSus] = useState([]);\r\n    const [admins, setAdmins] = useState([]);\r\n    const [userlist, setUsers] = useState([]);\r\n    const [userAdd, setUserAdd] = useState(false);\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: \"setNavBarHighLight\",\r\n            payload: { url_id: 2 }\r\n        })\r\n\r\n        fetch(`${proxy()}/api/${unique_string}/user/getall`).then(res => res.json())\r\n            .then(resp => {\r\n                const { data, success } = resp;\r\n\r\n                if (data != undefined && data.length > 0) {\r\n                    const _sus = data.filter(user => user.account_role === \"su\");\r\n                    const _admins = data.filter(user => user.account_role === \"admin\");\r\n                    const _users = data.filter(user => user.account_role === \"user\");\r\n\r\n                    setSus(_sus); setAdmins(_admins); setUsers(_users)\r\n                }\r\n            })\r\n    }, [])\r\n\r\n    const userSplitter = (user) => {\r\n        const { account_role } = user;\r\n        switch (account_role) {\r\n            case \"su\":\r\n                setSus([...sus, user])\r\n                break;\r\n\r\n            case \"admin\":\r\n                setAdmins([...admins, user])\r\n                break;\r\n            default:\r\n                setUsers([...userlist, user])\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"fixed-default fullscreen main-bg overflow flex flex-no-wrap\">\r\n\r\n                <div id=\"app-container\" className={`app fixed-default overflow ${!navState ? \"app-stretch\" : \"app-scaled\"}`} style={{ height: \"100vh\" }}>\r\n                    <Horizon />\r\n                    <AddUserBox userAdd={userAdd} setUserAdd={setUserAdd} setUsers={userSplitter} />\r\n                    <div className=\"p-1\" id=\"app-scrollBox\">\r\n                        <div className=\"p-1 min-height-full-screen column\">\r\n                            <div className=\"w-100-pct\">\r\n                                <div className=\"flex flex-no-wrap bg-white shadow-blur\">\r\n                                    <div className=\"fill-available p-1\">\r\n                                        <span> Người dùng</span>\r\n                                    </div>\r\n                                    <div className=\"w-48-px flex flex-middle\">\r\n                                        <div className=\"w-72-px pointer order-0\">\r\n                                            <div className=\"block p-1\" onClick={() => { navTrigger() }}>\r\n                                                <span className=\"block w-24-px border-3-top\" style={{ marginTop: \"4px\" }} />\r\n                                                <span className=\"block w-24-px border-3-top\" style={{ marginTop: \"4px\" }} />\r\n                                                <span className=\"block w-24-px border-3-top\" style={{ marginTop: \"4px\" }} />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"m-t-0-5 fill-available bg-white shadow-blur\">\r\n                                <div className=\"w-100-pct h-fit column p-1\">\r\n                                    <div className=\"flex flex-no-wrap border-1-bottom\">\r\n                                        <input className=\"p-0-5 text-16-px block fill-available no-border\"\r\n                                            placeholder=\"Search\"\r\n                                            spellCheck=\"false\"\r\n                                        />\r\n                                        <div className=\"flex flex-no-wrap flex-aligned\">\r\n                                            <div className=\"border-1-right w-48-px\">\r\n                                                <img className=\"w-28-px block mg-auto\" src=\"/assets/icon/viewmode/grid.png\" />\r\n                                            </div>\r\n                                            <div className=\"p-0-5\">\r\n                                                <button onClick={() => { setUserAdd(true) }} className=\"bold text-24-px no-border bg-green white border-radius-50-pct pointer\" style={{ width: \"32px\", height: \"32px\" }}>+</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"w-100-pct m-t-1\">\r\n                                        <div class=\"flex flex-no-wrap\">\r\n                                            {/* <div class=\"ml-auto1\">\r\n                                <div className=\"m-t\">\r\n                                    <button onClick={redirectToInput} className=\"upper pointer block w-max-content white text-center p-t-0-5 p-b-0-5 p-l-1 p-r-1 m-l-1 no-border bg-green\">Thêm mới</button>\r\n                                </div>\r\n                            </div> */}\r\n                                        </div>\r\n                                        <div className=\"m-t-1\">\r\n                                            <div className=\"flex flex-wrap w-100-pct\">\r\n                                                <table className=\"w-100-pct\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th className=\"text-left\">Họ tên</th>\r\n                                                            <th className=\"text-left\">Tài khoản</th>\r\n                                                            {/* <th className=\"text-left\">Ảnh</th> */}\r\n                                                            <th className=\"text-left\">Email</th>\r\n                                                            <th className=\"text-left\">SĐT</th>\r\n                                                            <th className=\"text-left\">Địa chỉ</th>\r\n                                                            <th className=\"text-left\">Quyền</th>\r\n                                                            <th className=\"text-center\">Công cụ</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {users && users.length > 0 ? (\r\n                                                            users.map((user) => (\r\n                                                                <UserCard user={user} key={user.credential_string} removeFromUI={removeFromUI} />))\r\n                                                        ) : (\r\n                                                            <tr>\r\n                                                                <td colSpan=\"7\" className=\"text-center\">\r\n                                                                    Không có dữ liệu người dùng.\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                        )}\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}