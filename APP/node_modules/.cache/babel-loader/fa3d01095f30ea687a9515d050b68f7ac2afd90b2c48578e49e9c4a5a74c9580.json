{"ast":null,"code":"import _slicedToArray from\"D:/Nhan/DIPE_V2/Client/ClientServer/APP/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Navbar,Horizon}from'../../../navbar';import ProjectCard from'./projectCard';import ProjectAddForm from'./addproject';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default(function(){var _useSelector=useSelector(function(state){return state.navbarLinks.su;}),urls=_useSelector.urls,bottomUrls=_useSelector.bottomUrls;var _useSelector2=useSelector(function(state){return state;}),navState=_useSelector2.navState,unique_string=_useSelector2.unique_string,proxy=_useSelector2.proxy;var _useSelector3=useSelector(function(state){return state.auth;}),credential_string=_useSelector3.credential_string;var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),projects=_useState2[0],setProjects=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),form=_useState4[0],setForm=_useState4[1];useEffect(function(){dispatch({type:\"setNavBarHighLight\",payload:{url_id:1}});fetch(\"\".concat(proxy,\"/api/\").concat(unique_string,\"/projects\")).then(function(res){return res.json();}).then(function(data){var projectDetails=data.projectDetails;if(projectDetails!=undefined&&projectDetails.length>0){setProjects(projectDetails);}});},[]);var formSwitching=function formSwitching(){setForm(!form);};return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed-default fullscreen main-bg overflow flex flex-no-wrap\",children:[/*#__PURE__*/_jsx(Navbar,{urls:urls,bottomUrls:bottomUrls}),/*#__PURE__*/_jsxs(\"div\",{className:\"app fixed-default overflow \".concat(!navState?\"app-stretch\":\"app-scaled\"),style:{height:\"100vh\"},children:[/*#__PURE__*/_jsx(Horizon,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-100-pct bg-white p-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-no-wrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-100-pct flex flex-no-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24-px flex flex-middle\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/icon/search.png\",className:\"w-100-pct block\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"no-border w-100-pct p-l-2\",placeholder:\"T\\xECm ki\\u1EBFm d\\u1EF1 \\xE1n\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:/*#__PURE__*/_jsx(\"button\",{onClick:formSwitching,className:\"upper pointer block w-max-content white text-center p-t-0-5 p-b-0-5 p-l-1 p-r-1 no-border bg-green\",children:\"Th\\xEAm m\\u1EDBi\"})})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-no-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"block text-20-px\",children:[projects.length,\" d\\u1EF1 \\xE1n\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-no-wrap ml-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-0-5 flex flex-no-wrap bg-white shadow-blur p-0-5 m-0-5 pointer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"block\",children:/*#__PURE__*/_jsx(\"span\",{className:\"block text-16-px\",children:\"Tr\\u1EA1ng th\\xE1i\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-middle w-24-px\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/icon/drop-arrow.png\",className:\"block w-50-pct\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-0-5 flex flex-no-wrap bg-white shadow-blur p-0-5 m-0-5 pointer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"block w-24-px\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/icon/viewmode/grid.png\",className:\"block w-100-pct\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-middle w-24-px\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/icon/drop-arrow.png\",className:\"block w-50-pct\"})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap\",children:projects.length>0&&projects.map(function(project){return/*#__PURE__*/_jsx(ProjectCard,{project:project},project.project_id);})})]})]}),form?/*#__PURE__*/_jsx(ProjectAddForm,{formSwitching:formSwitching,project_master:credential_string,projects:projects,setProjects:setProjects}):null]});});","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","Navbar","Horizon","ProjectCard","ProjectAddForm","state","navbarLinks","su","urls","bottomUrls","navState","unique_string","proxy","auth","credential_string","dispatch","projects","setProjects","form","setForm","type","payload","url_id","fetch","then","res","json","data","projectDetails","undefined","length","formSwitching","height","map","project","project_id"],"sources":["D:/Nhan/DIPE_V2/Client/ClientServer/APP/src/cpn/client/projects/suprojects/suprojects.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { Navbar, Horizon } from '../../../navbar';\r\n\r\nimport ProjectCard from './projectCard';\r\nimport ProjectAddForm from './addproject';\r\n\r\nexport default () => {\r\n    const { urls, bottomUrls } = useSelector( state => state.navbarLinks.su )\r\n    const { navState, unique_string, proxy } = useSelector( state => state );\r\n    const { credential_string } = useSelector( state => state.auth );\r\n    const dispatch = useDispatch()\r\n    const [ projects, setProjects ] = useState([])\r\n    const [ form, setForm ] = useState(0);\r\n\r\n    useEffect( () => {\r\n        dispatch({\r\n            type: \"setNavBarHighLight\",\r\n            payload: { url_id: 1 }\r\n        })\r\n        fetch(`${proxy}/api/${ unique_string }/projects`).then( res => res.json() )\r\n        .then( data => {\r\n            const { projectDetails } = data;\r\n            if( projectDetails != undefined && projectDetails.length > 0 ){\r\n                setProjects(projectDetails);\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    const formSwitching = () => {\r\n        setForm( !form )\r\n    }\r\n\r\n    return(\r\n        <div className=\"fixed-default fullscreen main-bg overflow flex flex-no-wrap\">\r\n            <Navbar urls={ urls } bottomUrls={ bottomUrls }/>\r\n            <div className={`app fixed-default overflow ${ !navState ? \"app-stretch\": \"app-scaled\" }`} style={{ height: \"100vh\" }}>\r\n                <Horizon />\r\n                <div className=\"p-1\">\r\n                    { /*  SEARCH BAR */  }\r\n\r\n                    <div className=\"w-100-pct bg-white p-1\">\r\n                        <div className=\"flex flex-no-wrap\">\r\n                            <div className=\"w-100-pct flex flex-no-wrap\">\r\n                                <div className=\"w-24-px flex flex-middle\">\r\n                                    <img src=\"/assets/icon/search.png\" className=\"w-100-pct block\"/>\r\n                                </div>\r\n                                <input className=\"no-border w-100-pct p-l-2\" placeholder=\"Tìm kiếm dự án\"/>\r\n                            </div>\r\n                            <div className=\"ml-auto\">\r\n                                <button onClick={ formSwitching } className=\"upper pointer block w-max-content white text-center p-t-0-5 p-b-0-5 p-l-1 p-r-1 no-border bg-green\">Thêm mới</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    { /*  SORTING AND VIEW MODE */  }\r\n\r\n                    <div>\r\n                        <div className=\"flex flex-no-wrap\">\r\n                            <div>\r\n                                <span className=\"block text-20-px\">{ projects.length } dự án</span>\r\n                            </div>\r\n\r\n                            <div className=\"flex flex-no-wrap ml-auto\">\r\n\r\n                                { /*  SORTING */  }\r\n\r\n                                <div className=\"p-0-5 flex flex-no-wrap bg-white shadow-blur p-0-5 m-0-5 pointer\">\r\n                                    <div className=\"block\">\r\n                                        <span className=\"block text-16-px\">Trạng thái</span>\r\n                                    </div>\r\n                                    <div className=\"flex flex-middle w-24-px\">\r\n                                        <img src=\"/assets/icon/drop-arrow.png\" className=\"block w-50-pct\"/>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                { /*  VIEW MODE */  }\r\n\r\n                                <div className=\"p-0-5 flex flex-no-wrap bg-white shadow-blur p-0-5 m-0-5 pointer\">\r\n                                    <div className=\"block w-24-px\">\r\n                                        <img src=\"/assets/icon/viewmode/grid.png\" className=\"block w-100-pct\"/>\r\n                                    </div>\r\n                                    <div className=\"flex flex-middle w-24-px\">\r\n                                        <img src=\"/assets/icon/drop-arrow.png\" className=\"block w-50-pct\"/>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/*  PROJECT CARDS */}\r\n                    <div className=\"flex flex-wrap\">\r\n                        { projects.length > 0 && projects.map(project =>\r\n                            <ProjectCard key={ project.project_id } project = { project }/>\r\n                        )}\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n            {\r\n                form ?\r\n                <ProjectAddForm formSwitching={ formSwitching } project_master={ credential_string }\r\n                    projects={ projects } setProjects={ setProjects }\r\n                />\r\n                : null\r\n            }\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}