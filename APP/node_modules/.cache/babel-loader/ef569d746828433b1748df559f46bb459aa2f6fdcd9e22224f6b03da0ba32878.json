{"ast":null,"code":"import _slicedToArray from\"D:/Nhan/DIPE_V2/Client/DIPE/APP/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default(function(props){var data=props.data,clickTrigger=props.clickTrigger,label=props.label,label_field=props.label_field,defaultValue=props.defaultValue;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),height=_useState2[0],setHeight=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),selectedValue=_useState4[0],setSelected=_useState4[1];useEffect(function(){setSelected(defaultValue?defaultValue:{});},[defaultValue]);var blurTrigger=function blurTrigger(e){e.preventDefault();setTimeout(function(){setHeight(0);},135);};var focusTrigger=function focusTrigger(){setHeight(250);};var changeValue=function changeValue(value){clickTrigger(value);setSelected(value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-100-pct\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-no-wrap flex-aligned p-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-max-content\",children:/*#__PURE__*/_jsx(\"span\",{className:\"block text-16-px\",children:label})}),/*#__PURE__*/_jsx(\"div\",{className:\"fill-available m-l-1\",children:/*#__PURE__*/_jsx(\"input\",{className:\"no-border block text-16-px w-100-pct border-1-bottom text-center\",onFocus:focusTrigger,onBlur:blurTrigger,value:selectedValue[label_field]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rel w-100-pct\",children:/*#__PURE__*/_jsx(\"div\",{className:\"abs-default w-100-pct no-overflow shadow-blur\",style:{height:\"\".concat(height,\"px\"),paddingTop:\"0\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"block w-100-pct p-0-5 overflow\",style:{height:\"\".concat(height,\"px\")},children:data.map(function(d,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"block p-0-5 bg-white pointer hover\",onClick:function onClick(){changeValue(d);},children:d[label_field]})},index);})})})})]});});","map":{"version":3,"names":["useState","useEffect","props","data","clickTrigger","label","label_field","defaultValue","height","setHeight","selectedValue","setSelected","blurTrigger","e","preventDefault","setTimeout","focusTrigger","changeValue","value","paddingTop","map","d","index"],"sources":["D:/Nhan/DIPE_V2/Client/DIPE/APP/src/cpn/client/version/constraint-box-cpns/drop-options.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\n\r\nexport default ( props ) => {\r\n    const { data, clickTrigger, label, label_field, defaultValue } = props;\r\n    const [ height, setHeight ] = useState(0)\r\n\r\n    const [ selectedValue, setSelected ] = useState({})\r\n\r\n    useEffect( () => {\r\n        setSelected( defaultValue ? defaultValue : {} )\r\n    }, [ defaultValue ] )\r\n\r\n    const blurTrigger = (e) => {\r\n            e.preventDefault();\r\n            setTimeout(() => {\r\n                setHeight(0)\r\n        }, 135)\r\n    }\r\n\r\n    const focusTrigger = () => {\r\n        setHeight(250);\r\n    }\r\n\r\n    const changeValue = ( value ) => {\r\n        clickTrigger( value )\r\n        setSelected( value )\r\n    }\r\n\r\n    return(\r\n        <div className=\"w-100-pct\">\r\n            <div className=\"flex flex-no-wrap flex-aligned p-1\">\r\n                <div className=\"w-max-content\">\r\n                    <span className=\"block text-16-px\">{ label }</span>\r\n                </div>\r\n                <div className=\"fill-available m-l-1\">\r\n                    <input className=\"no-border block text-16-px w-100-pct border-1-bottom text-center\"\r\n                        onFocus={ focusTrigger }\r\n                        onBlur = { blurTrigger }\r\n                        value = { selectedValue[label_field] }\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"rel w-100-pct\">\r\n                <div className=\"abs-default w-100-pct no-overflow shadow-blur\" style={{ height: `${ height }px`, paddingTop: \"0\"}} >\r\n                    <div className=\"block w-100-pct p-0-5 overflow\" style={{ height: `${ height }px` }}>\r\n                    { data.map( (d, index) =>\r\n                         <div key={ index }>\r\n                            <span className=\"block p-0-5 bg-white pointer hover\"\r\n                                onClick={ () => { changeValue( d ) } }\r\n                            >{ d[ label_field ] }</span>\r\n                         </div>\r\n                      )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"qHAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,wFAG5C,eAAe,SAAEC,KAAK,CAAM,CACxB,GAAQC,KAAI,CAAqDD,KAAK,CAA9DC,IAAI,CAAEC,YAAY,CAAuCF,KAAK,CAAxDE,YAAY,CAAEC,KAAK,CAAgCH,KAAK,CAA1CG,KAAK,CAAEC,WAAW,CAAmBJ,KAAK,CAAnCI,WAAW,CAAEC,YAAY,CAAKL,KAAK,CAAtBK,YAAY,CAC5D,cAA8BP,QAAQ,CAAC,CAAC,CAAC,wCAAjCQ,MAAM,eAAEC,SAAS,eAEzB,eAAuCT,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAA3CU,aAAa,eAAEC,WAAW,eAElCV,SAAS,CAAE,UAAM,CACbU,WAAW,CAAEJ,YAAY,CAAGA,YAAY,CAAG,CAAC,CAAC,CAAE,CACnD,CAAC,CAAE,CAAEA,YAAY,CAAE,CAAE,CAErB,GAAMK,YAAW,CAAG,QAAdA,YAAW,CAAIC,CAAC,CAAK,CACnBA,CAAC,CAACC,cAAc,EAAE,CAClBC,UAAU,CAAC,UAAM,CACbN,SAAS,CAAC,CAAC,CAAC,CACpB,CAAC,CAAE,GAAG,CAAC,CACX,CAAC,CAED,GAAMO,aAAY,CAAG,QAAfA,aAAY,EAAS,CACvBP,SAAS,CAAC,GAAG,CAAC,CAClB,CAAC,CAED,GAAMQ,YAAW,CAAG,QAAdA,YAAW,CAAKC,KAAK,CAAM,CAC7Bd,YAAY,CAAEc,KAAK,CAAE,CACrBP,WAAW,CAAEO,KAAK,CAAE,CACxB,CAAC,CAED,mBACI,aAAK,SAAS,CAAC,WAAW,wBACtB,aAAK,SAAS,CAAC,oCAAoC,wBAC/C,YAAK,SAAS,CAAC,eAAe,uBAC1B,aAAM,SAAS,CAAC,kBAAkB,UAAGb,KAAK,EAAS,EACjD,cACN,YAAK,SAAS,CAAC,sBAAsB,uBACjC,cAAO,SAAS,CAAC,kEAAkE,CAC/E,OAAO,CAAGW,YAAc,CACxB,MAAM,CAAKJ,WAAa,CACxB,KAAK,CAAKF,aAAa,CAACJ,WAAW,CAAG,EACxC,EACA,GACJ,cACN,YAAK,SAAS,CAAC,eAAe,uBAC1B,YAAK,SAAS,CAAC,+CAA+C,CAAC,KAAK,CAAE,CAAEE,MAAM,WAAMA,MAAM,MAAK,CAAEW,UAAU,CAAE,GAAG,CAAE,uBAC9G,YAAK,SAAS,CAAC,gCAAgC,CAAC,KAAK,CAAE,CAAEX,MAAM,WAAMA,MAAM,MAAM,CAAE,UACjFL,IAAI,CAACiB,GAAG,CAAE,SAACC,CAAC,CAAEC,KAAK,qBAChB,kCACG,aAAM,SAAS,CAAC,oCAAoC,CAChD,OAAO,CAAG,kBAAM,CAAEL,WAAW,CAAEI,CAAC,CAAE,CAAC,CAAG,UACvCA,CAAC,CAAEf,WAAW,CAAE,EAAS,EAHpBgB,KAAK,CAIV,GACR,EACG,EACJ,EACJ,GACJ,CAEd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}