{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nhan\\\\DIPE_V2\\\\Client\\\\ClientServer\\\\APP\\\\src\\\\cpn\\\\client\\\\version\\\\version.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { Navbar, Horizon } from '../../navbar';\nimport Field from './table-field';\nimport $ from 'jquery';\nimport { saveAs } from 'file-saver';\nimport Database from './database';\nimport Api from './api';\nimport UI from './ui';\nimport SectionSelection from './hidden-forms/sectionSelection';\nimport TableEdittor from './hidden-forms/tableEdittor';\nimport ConstraintsManipulation from './hidden-forms/constraintsManipulation';\nimport { ParamsSelector, FieldsSelector, NormalFieldsSelector, CustomField, CustomFieldEditor, ApiGETViewer, ApiPUTViewer } from './hidden-forms/api/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cardMinHeight = 400;\nexport default _s(() => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    project_id,\n    version_id\n  } = useParams();\n  const sections = [{\n    id: 0,\n    label: \"Cơ sở dữ liệu\",\n    value: \"db\"\n  }, {\n    id: 1,\n    label: \"API\",\n    value: \"api\"\n  }, {\n    id: 2,\n    label: \"Quản lý giao diện\",\n    value: \"ui\"\n  }];\n  const methods = [\"get\", \"post\", \"put\", \"delete\", \"others\"];\n  const {\n    urls,\n    bottomUrls\n  } = useSelector(state => state.navbarLinks.su);\n  const {\n    dateGenerator,\n    autoLabel,\n    openTab\n  } = useSelector(state => state.functions);\n  const {\n    navState,\n    unique_string,\n    proxy,\n    Alert,\n    Confirm,\n    floatingForms\n  } = useSelector(state => state);\n  const {\n    tables,\n    fields\n  } = useSelector(state => state.database);\n  const al = new Alert(dispatch);\n  const cf = new Confirm(dispatch);\n  const [viewSection, setViewSection] = useState(\"db\");\n  const [hiddenForms, setHiddenForm] = useState({\n    sectionSelection: false\n  });\n  const [section, setSection] = useState(sections[1]);\n  const [project, setProject] = useState({});\n  const [version, setVersion] = useState({});\n  const [tableState, setTableState] = useState(true);\n  const [apis, setApis] = useState([]);\n  const [uis, setUis] = useState([]);\n  useEffect(() => {\n    dispatch({\n      type: \"setNavBarHighLight\",\n      payload: {\n        url_id: 1\n      }\n    });\n    fetch(`${proxy}/api/${unique_string}/projects/project/${project_id}/ver/${version_id}`).then(res => res.json()).then(res => {\n      const {\n        project,\n        version,\n        tables,\n        fields,\n        apis,\n        uis\n      } = res;\n      setProject(project);\n      setVersion(version);\n      setApis(apis);\n      setUis(uis);\n      dispatch({\n        branch: \"db\",\n        type: \"initializeData\",\n        payload: {\n          tables,\n          fields,\n          project,\n          version\n        }\n      });\n      dispatch({\n        branch: \"api\",\n        type: \"initializeData\",\n        payload: {\n          apis\n        }\n      });\n      dispatch({\n        branch: \"ui\",\n        type: \"initializeData\",\n        payload: {\n          uis\n        }\n      });\n    });\n  }, []);\n  const viewSectionSelection = () => {\n    setHiddenForm({\n      ...hiddenForms,\n      sectionSelection: !hiddenForms.sectionSelection\n    });\n  };\n  const selectSection = section => {\n    setSection(section);\n    viewSectionSelection();\n  };\n  const countAPI = type => {\n    const countApis = apis.filter(api => api.method == type);\n    return countApis.length;\n  };\n  const askVersionOptions = () => {\n    const ver = version;\n    const selectionChoose = async option => {\n      if (option.value == \"redirect\") {\n        openTab(`/su/project/${project_id}/version/${ver.version_id}`);\n      }\n      if (option.value == \"export\") {\n        const json = await new Promise((resolve, reject) => {\n          fetch(`${proxy}/api/${unique_string}/projects/project/${project_id}/version/${ver.version_id}/json`).then(res => res.json()).then(res => {\n            const {\n              success,\n              data\n            } = res;\n            resolve(data);\n          });\n        });\n        const jsonData = JSON.stringify({\n          data: json\n        });\n        const blob = new Blob([jsonData], {\n          type: 'application/json'\n        });\n        saveAs(blob, `${project.project_name}-${ver.version_name}-database.json`);\n      }\n      if (option.value == \"export-api\") {\n        const json = await new Promise((resolve, reject) => {\n          fetch(`${proxy}/api/${unique_string}/projects/project/${project_id}/version/${ver.version_id}/api-json`).then(res => res.json()).then(res => {\n            const {\n              success,\n              data\n            } = res;\n            resolve(data);\n          });\n        });\n        const jsonData = JSON.stringify({\n          data: json\n        });\n        const blob = new Blob([jsonData], {\n          type: 'application/json'\n        });\n        saveAs(blob, `${project.project_name}-${ver.version_name}-api.json`);\n      }\n      if (option.value == \"export-ui\") {\n        const json = await new Promise((resolve, reject) => {\n          fetch(`${proxy}/api/${unique_string}/projects/project/${project_id}/version/${ver.version_id}/ui-json`).then(res => res.json()).then(res => {\n            const {\n              success,\n              data\n            } = res;\n            resolve(data);\n          });\n        });\n        const jsonData = JSON.stringify({\n          data: json\n        });\n        const blob = new Blob([jsonData], {\n          type: 'application/json'\n        });\n        saveAs(blob, `${project.project_name}-${ver.version_name}-ui.json`);\n      }\n    };\n    const options = [{\n      id: 1,\n      label: \"Xuất JSON Database\",\n      value: \"export\"\n    }, {\n      id: 2,\n      label: \"Xuất JSON API\",\n      value: \"export-api\"\n    }, {\n      id: 2,\n      label: \"Xuất JSON UI\",\n      value: \"export-ui\"\n    }];\n    cf.askForSelection(`Version ${ver.version_name}`, \"\", selectionChoose, options);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed-default fullscreen main-bg overflow flex flex-no-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      urls: urls,\n      bottomUrls: bottomUrls\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"app-container\",\n      className: `app fixed-default overflow ${!navState ? \"app-stretch\" : \"app-scaled\"}`,\n      style: {\n        height: \"100vh\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Horizon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-1\",\n        id: \"app-scrollBox\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            minHeight: \"100vh\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap m-t-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-100-pct bg-white shadow-blur flex flex-no-wrap p-1 scaled-card rel\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-1  h-fit\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"block text-28-px\",\n                  children: version.version_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"block text-18-px gray\",\n                  children: project.project_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"column flex-middle ml-auto w-32-px pointer\",\n                onClick: askVersionOptions,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"block w-24-px border-3-top\",\n                  style: {\n                    marginTop: \"5px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"block w-24-px border-3-top\",\n                  style: {\n                    marginTop: \"5px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"block w-24-px border-3-top\",\n                  style: {\n                    marginTop: \"5px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap flex-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-card bg-white shadow-blur shadow-hover pointer m-1 p-1\",\n              style: {\n                minHeight: cardMinHeight\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block text-center p-1 text-20-px\",\n                children: \"C\\u01A1 s\\u1EDF d\\u1EEF li\\u1EC7u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"border-1-t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-no-wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-50-pct\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-left p-1 text-16-px\",\n                    children: \"B\\u1EA3ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-50-pct\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-right p-1 text-16-px\",\n                    children: tables.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-no-wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-50-pct\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-left p-1 text-16-px\",\n                    children: \"Tr\\u01B0\\u1EDDng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-50-pct\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-right p-1 text-16-px\",\n                    children: fields.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-no-wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-50-pct\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-left p-1 text-16-px\",\n                    children: \"T\\u1EA1o g\\u1EA7n \\u0111\\xE2y\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-50-pct\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-right p-1 text-16-px\",\n                    children: tables[tables.length - 1] ? tables[tables.length - 1].table_name : \"None\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-card bg-white shadow-blur shadow-hover pointer m-1 p-1\",\n              style: {\n                minHeight: cardMinHeight\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block text-center p-1 text-20-px\",\n                children: \"API\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"border-1-t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 33\n              }, this), methods.map(method => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-no-wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-50-pct\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-left p-1 text-16-px\",\n                    children: method.toUpperCase()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-50-pct\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-right p-1 text-16-px\",\n                    children: countAPI(method)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 37\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-card bg-white shadow-blur shadow-hover pointer m-1 p-1\",\n              style: {\n                minHeight: cardMinHeight\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block text-center p-1 text-20-px\",\n                children: \"UI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"border-1-t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-no-wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-50-pct\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-left p-1 text-16-px\",\n                    children: \"Trang\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-50-pct\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-right p-1 text-16-px\",\n                    children: uis.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-1 min-height-full-screen column\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-100-pct\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-no-wrap flex-aligned bg-white p-1 shadow-blur\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"block text-24-px\",\n              children: section.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"block ml-auto w-32-px pointer\",\n              onClick: viewSectionSelection,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block w-24-px border-3-top\",\n                style: {\n                  marginTop: \"5px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block w-24-px border-3-top\",\n                style: {\n                  marginTop: \"5px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block w-24-px border-3-top\",\n                style: {\n                  marginTop: \"5px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"m-t-0-5 fill-available bg-white shadow-blur\",\n          children: [section.value == \"db\" ? /*#__PURE__*/_jsxDEV(Database, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 29\n          }, this) : null, section.value == \"api\" ? /*#__PURE__*/_jsxDEV(Api, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 29\n          }, this) : null, section.value == \"ui\" ? /*#__PURE__*/_jsxDEV(UI, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 29\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this), hiddenForms.sectionSelection ? /*#__PURE__*/_jsxDEV(SectionSelection, {\n      toggle: viewSectionSelection,\n      sections: sections,\n      selectSection: selectSection\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 17\n    }, this) : null, floatingForms.tableEdittor ? /*#__PURE__*/_jsxDEV(TableEdittor, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 17\n    }, this) : null, floatingForms.constraintsManipulation ? /*#__PURE__*/_jsxDEV(ConstraintsManipulation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 17\n    }, this) : null, floatingForms.paramsSelector ? /*#__PURE__*/_jsxDEV(ParamsSelector, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 17\n    }, this) : null, floatingForms.fieldsSelector ? /*#__PURE__*/_jsxDEV(FieldsSelector, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 17\n    }, this) : null, floatingForms.customFieldCreator ? /*#__PURE__*/_jsxDEV(CustomField, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 17\n    }, this) : null, floatingForms.customFieldUpdate ? /*#__PURE__*/_jsxDEV(CustomFieldEditor, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 17\n    }, this) : null, floatingForms.normalFieldsSelector ? /*#__PURE__*/_jsxDEV(NormalFieldsSelector, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 17\n    }, this) : null, floatingForms.apiGETViewer ? /*#__PURE__*/_jsxDEV(ApiGETViewer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 17\n    }, this) : null, floatingForms.apiPUTViewer ? /*#__PURE__*/_jsxDEV(ApiPUTViewer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 17\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 9\n  }, this);\n}, \"QRAXX1BIJkt4+MPepBPQWpmL/CE=\", false, function () {\n  return [useDispatch, useParams, useSelector, useSelector, useSelector, useSelector];\n});","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","useParams","Navbar","Horizon","Field","$","saveAs","Database","Api","UI","SectionSelection","TableEdittor","ConstraintsManipulation","ParamsSelector","FieldsSelector","NormalFieldsSelector","CustomField","CustomFieldEditor","ApiGETViewer","ApiPUTViewer","cardMinHeight","dispatch","project_id","version_id","sections","id","label","value","methods","urls","bottomUrls","state","navbarLinks","su","dateGenerator","autoLabel","openTab","functions","navState","unique_string","proxy","Alert","Confirm","floatingForms","tables","fields","database","al","cf","viewSection","setViewSection","hiddenForms","setHiddenForm","sectionSelection","section","setSection","project","setProject","version","setVersion","tableState","setTableState","apis","setApis","uis","setUis","type","payload","url_id","fetch","then","res","json","branch","viewSectionSelection","selectSection","countAPI","countApis","filter","api","method","length","askVersionOptions","ver","selectionChoose","option","Promise","resolve","reject","success","data","jsonData","JSON","stringify","blob","Blob","project_name","version_name","options","askForSelection","height","minHeight","marginTop","table_name","map","toUpperCase","tableEdittor","constraintsManipulation","paramsSelector","fieldsSelector","customFieldCreator","customFieldUpdate","normalFieldsSelector","apiGETViewer","apiPUTViewer"],"sources":["D:/Nhan/DIPE_V2/Client/ClientServer/APP/src/cpn/client/version/version.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Navbar, Horizon } from '../../navbar';\r\nimport Field  from './table-field';\r\nimport $ from 'jquery';\r\nimport { saveAs } from 'file-saver';\r\n\r\nimport Database from './database';\r\nimport Api from './api';\r\nimport UI from './ui';\r\n\r\nimport SectionSelection from './hidden-forms/sectionSelection';\r\nimport TableEdittor from './hidden-forms/tableEdittor';\r\nimport ConstraintsManipulation from './hidden-forms/constraintsManipulation';\r\nimport {\r\n    ParamsSelector,\r\n    FieldsSelector, NormalFieldsSelector,\r\n    CustomField, CustomFieldEditor,\r\n    ApiGETViewer, ApiPUTViewer,\r\n} from './hidden-forms/api/index';\r\n\r\nconst cardMinHeight = 400;\r\n\r\nexport default () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const{ project_id, version_id } = useParams()\r\n\r\n    const sections = [\r\n        { id: 0, label: \"Cơ sở dữ liệu\", value: \"db\" },\r\n        { id: 1, label: \"API\", value: \"api\" },\r\n        { id: 2, label: \"Quản lý giao diện\", value: \"ui\" }\r\n    ]\r\n\r\n    const methods = [\"get\", \"post\", \"put\", \"delete\", \"others\"]\r\n\r\n    const { urls, bottomUrls } = useSelector( state => state.navbarLinks.su )\r\n    const { dateGenerator, autoLabel, openTab } = useSelector( state => state.functions )\r\n    const { navState, unique_string, proxy, Alert, Confirm, floatingForms } = useSelector( state => state );\r\n    const { tables, fields } = useSelector( state => state.database );\r\n    const al = new Alert(dispatch);\r\n    const cf = new Confirm( dispatch );\r\n\r\n    const [ viewSection, setViewSection ] = useState(\"db\")\r\n    const [ hiddenForms, setHiddenForm ] = useState({\r\n        sectionSelection: false,\r\n    })\r\n\r\n    const [ section, setSection ] = useState( sections[1] )\r\n\r\n    const [ project, setProject ] = useState({})\r\n    const [ version, setVersion ] = useState({})\r\n\r\n    const [ tableState, setTableState ] = useState(true);\r\n    const [ apis, setApis ] = useState([]);\r\n    const [ uis, setUis ] = useState([]);\r\n\r\n    useEffect( () => {\r\n        dispatch({\r\n            type: \"setNavBarHighLight\",\r\n            payload: { url_id: 1 }\r\n        })\r\n\r\n        fetch(`${ proxy }/api/${ unique_string }/projects/project/${project_id}/ver/${version_id}`)\r\n        .then( res => res.json() ).then( res => {\r\n            const { project, version, tables, fields, apis, uis } = res;\r\n            setProject( project )\r\n            setVersion( version )\r\n            setApis(apis)\r\n            setUis(uis)\r\n            dispatch({\r\n                branch: \"db\",\r\n                type: \"initializeData\",\r\n                payload: { tables, fields, project, version }\r\n            })\r\n            dispatch({\r\n                branch: \"api\",\r\n                type: \"initializeData\",\r\n                payload: { apis }\r\n            })\r\n            dispatch({\r\n                branch: \"ui\",\r\n                type: \"initializeData\",\r\n                payload: { uis }\r\n            })\r\n        })\r\n\r\n    }, [])\r\n\r\n    const viewSectionSelection = () => {\r\n        setHiddenForm({ ...hiddenForms, sectionSelection: !hiddenForms.sectionSelection })\r\n    }\r\n\r\n    const selectSection = ( section ) => {\r\n        setSection( section )\r\n        viewSectionSelection()\r\n    }\r\n\r\n    const countAPI = (type) => {\r\n        const countApis = apis.filter( api => api.method == type );\r\n        return countApis.length;\r\n    }\r\n\r\n    const askVersionOptions = () => {\r\n        const ver = version;\r\n        const selectionChoose = async (option) => {\r\n            if( option.value == \"redirect\" ){\r\n                openTab(`/su/project/${ project_id }/version/${ ver.version_id }`)\r\n            }\r\n            if( option.value == \"export\" ){\r\n\r\n                const json = await new Promise( (resolve, reject) => {\r\n                    fetch(`${proxy}/api/${ unique_string }/projects/project/${ project_id }/version/${ver.version_id}/json`)\r\n                        .then( res => res.json() ).then( res => {\r\n                        const { success, data } = res\r\n                        resolve( data )\r\n                    })\r\n                });\r\n                const jsonData = JSON.stringify({data: json});\r\n                const blob = new Blob([jsonData], { type: 'application/json' });\r\n                saveAs(blob, `${project.project_name}-${ ver.version_name }-database.json`);\r\n            }\r\n\r\n            if( option.value == \"export-api\" ){\r\n\r\n                const json = await new Promise( (resolve, reject) => {\r\n                    fetch(`${proxy}/api/${ unique_string }/projects/project/${ project_id }/version/${ver.version_id}/api-json`)\r\n                        .then( res => res.json() ).then( res => {\r\n                        const { success, data } = res\r\n                        resolve( data )\r\n                    })\r\n                });\r\n                const jsonData = JSON.stringify({data: json});\r\n                const blob = new Blob([jsonData], { type: 'application/json' });\r\n                saveAs(blob, `${project.project_name}-${ ver.version_name }-api.json`);\r\n            }\r\n\r\n            if( option.value == \"export-ui\" ){\r\n\r\n                const json = await new Promise( (resolve, reject) => {\r\n                    fetch(`${proxy}/api/${ unique_string }/projects/project/${ project_id }/version/${ver.version_id}/ui-json`)\r\n                        .then( res => res.json() ).then( res => {\r\n                        const { success, data } = res\r\n                        resolve( data )\r\n                    })\r\n                });\r\n                const jsonData = JSON.stringify({data: json});\r\n                const blob = new Blob([jsonData], { type: 'application/json' });\r\n                saveAs(blob, `${project.project_name}-${ ver.version_name }-ui.json`);\r\n            }\r\n        }\r\n\r\n        const options = [        \r\n            { id: 1, label: \"Xuất JSON Database\", value: \"export\" },\r\n            { id: 2, label: \"Xuất JSON API\", value: \"export-api\" },\r\n            { id: 2, label: \"Xuất JSON UI\", value: \"export-ui\" },\r\n        ]\r\n\r\n        cf.askForSelection(`Version ${ ver.version_name }`, \"\", selectionChoose, options )\r\n    }\r\n\r\n    return(\r\n        <div className=\"fixed-default fullscreen main-bg overflow flex flex-no-wrap\">\r\n            <Navbar urls={ urls } bottomUrls={ bottomUrls } />\r\n            <div id=\"app-container\" className={`app fixed-default overflow ${ !navState ? \"app-stretch\": \"app-scaled\" }`} style={{ height: \"100vh\" }}>\r\n                <Horizon />\r\n\r\n                <div className=\"p-1\" id=\"app-scrollBox\">\r\n                    {/* VERSION INFO */}\r\n                    <div style={{ minHeight: \"100vh\" }}>\r\n                        <div className=\"flex flex-wrap m-t-1\">\r\n                            <div className=\"w-100-pct bg-white shadow-blur flex flex-no-wrap p-1 scaled-card rel\">\r\n                                <div className=\"p-1  h-fit\">\r\n                                    <span className=\"block text-28-px\">{ version.version_name }</span>\r\n                                    <span className=\"block text-18-px gray\">{ project.project_name }</span>\r\n                                </div>\r\n                                <div className=\"column flex-middle ml-auto w-32-px pointer\" onClick={ askVersionOptions }>\r\n                                    <span className=\"block w-24-px border-3-top\" style={{ marginTop: \"5px\" }}/>\r\n                                    <span className=\"block w-24-px border-3-top\" style={{ marginTop: \"5px\" }}/>\r\n                                    <span className=\"block w-24-px border-3-top\" style={{ marginTop: \"5px\" }}/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex flex-wrap flex-center\">\r\n                            <div className=\"project-card bg-white shadow-blur shadow-hover pointer m-1 p-1\" style={{ minHeight: cardMinHeight }}>\r\n                                <span className=\"block text-center p-1 text-20-px\">Cơ sở dữ liệu</span>\r\n                                <hr className=\"border-1-t\"/>\r\n\r\n                                <div className=\"flex flex-no-wrap\">\r\n                                    <div className=\"w-50-pct\">\r\n                                        <span className=\"block text-left p-1 text-16-px\">Bảng</span>\r\n                                    </div>\r\n                                    <div className=\"w-50-pct\">\r\n                                        <span className=\"block text-right p-1 text-16-px\">{ tables.length }</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex flex-no-wrap\">\r\n                                    <div className=\"w-50-pct\">\r\n                                        <span className=\"block text-left p-1 text-16-px\">Trường</span>\r\n                                    </div>\r\n                                    <div className=\"w-50-pct\">\r\n                                        <span className=\"block text-right p-1 text-16-px\">{ fields.length }</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex flex-no-wrap\">\r\n                                    <div className=\"w-50-pct\">\r\n                                        <span className=\"block text-left p-1 text-16-px\">Tạo gần đây</span>\r\n                                    </div>\r\n                                    <div className=\"w-50-pct\">\r\n                                        <span className=\"block text-right p-1 text-16-px\">{ tables[tables.length - 1] ? tables[tables.length - 1].table_name : \"None\" }</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"project-card bg-white shadow-blur shadow-hover pointer m-1 p-1\" style={{ minHeight: cardMinHeight }}>\r\n                                <span className=\"block text-center p-1 text-20-px\">API</span>\r\n                                <hr className=\"border-1-t\"/>\r\n                                { methods.map(method =>\r\n                                    <div className=\"flex flex-no-wrap\">\r\n                                        <div className=\"w-50-pct\">\r\n                                            <span className=\"block text-left p-1 text-16-px\">{ method.toUpperCase() }</span>\r\n                                        </div>\r\n                                        <div className=\"w-50-pct\">\r\n                                            <span className=\"block text-right p-1 text-16-px\">{ countAPI(method) }</span>\r\n                                        </div>\r\n                                    </div>\r\n                                ) }\r\n\r\n\r\n                            </div>\r\n\r\n                            <div className=\"project-card bg-white shadow-blur shadow-hover pointer m-1 p-1\" style={{ minHeight: cardMinHeight }}>\r\n                                <span className=\"block text-center p-1 text-20-px\">UI</span>\r\n                                <hr className=\"border-1-t\"/>\r\n\r\n                                <div className=\"flex flex-no-wrap\">\r\n                                    <div className=\"w-50-pct\">\r\n                                        <span className=\"block text-left p-1 text-16-px\">Trang</span>\r\n                                    </div>\r\n                                    <div className=\"w-50-pct\">\r\n                                        <span className=\"block text-right p-1 text-16-px\">{ uis.length }</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className=\"p-1 min-height-full-screen column\">\r\n                    <div className=\"w-100-pct\">\r\n                        <div className=\"flex flex-no-wrap flex-aligned bg-white p-1 shadow-blur\">\r\n                            <span className=\"block text-24-px\">{ section.label }</span>\r\n                            <div className=\"block ml-auto w-32-px pointer\" onClick={ viewSectionSelection }>\r\n                                <span className=\"block w-24-px border-3-top\" style={{ marginTop: \"5px\" }}/>\r\n                                <span className=\"block w-24-px border-3-top\" style={{ marginTop: \"5px\" }}/>\r\n                                <span className=\"block w-24-px border-3-top\" style={{ marginTop: \"5px\" }}/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"m-t-0-5 fill-available bg-white shadow-blur\">\r\n                        { section.value == \"db\" ?\r\n                            <Database />: null\r\n                        }\r\n                        { section.value == \"api\" ?\r\n                            <Api />: null\r\n                        }\r\n                        { section.value == \"ui\" ?\r\n                            <UI/> : null\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            { hiddenForms.sectionSelection ?\r\n                <SectionSelection toggle={ viewSectionSelection } sections={ sections } selectSection={ selectSection }/>\r\n                : null\r\n            }\r\n\r\n            { floatingForms.tableEdittor ?\r\n                <TableEdittor />\r\n                : null\r\n            }\r\n\r\n            { floatingForms.constraintsManipulation ?\r\n                <ConstraintsManipulation />\r\n                : null\r\n            }\r\n\r\n            { floatingForms.paramsSelector ?\r\n                <ParamsSelector />\r\n                : null\r\n            }\r\n\r\n            { floatingForms.fieldsSelector ?\r\n                <FieldsSelector />\r\n                : null\r\n            }\r\n\r\n            { floatingForms.customFieldCreator ?\r\n                <CustomField />\r\n                : null\r\n            }\r\n\r\n            { floatingForms.customFieldUpdate ?\r\n                <CustomFieldEditor />\r\n                : null\r\n            }\r\n\r\n            { floatingForms.normalFieldsSelector ?\r\n                <NormalFieldsSelector />\r\n                : null\r\n            }\r\n\r\n            {\r\n                floatingForms.apiGETViewer ?\r\n                <ApiGETViewer/>\r\n                : null\r\n            }\r\n            {\r\n                floatingForms.apiPUTViewer ?\r\n                <ApiPUTViewer/>\r\n                : null\r\n            }\r\n\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}