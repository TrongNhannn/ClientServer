{"ast":null,"code":"import _slicedToArray from\"D:/Nhan/DIPE_V2/Client/ClientServer/APP/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default(function(props){var field=props.field,changeTrigger=props.changeTrigger,defaultValue=props.defaultValue,unsigned=props.unsigned;var _useState=useState(defaultValue?defaultValue:\"\"),_useState2=_slicedToArray(_useState,2),current=_useState2[0],setCurrent=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),decimalError=_useState4[0],setDecimalError=_useState4[1];var validateDecimal=function validateDecimal(decimal,unsigned){var decimalRegex=/^-?\\d+(\\.\\d+)?$/;if(unsigned){return decimalRegex.test(decimal)&&parseFloat(decimal)>=0;}else{return decimalRegex.test(decimal);}};var fieldChangeData=function fieldChangeData(e){var value=e.target.value;setCurrent(value);if(validateDecimal(value,unsigned)||value===''){setDecimalError(false);changeTrigger(field,value);}else{setDecimalError(true);}};// const fieldChangeData = (e) => {\n//     const { value } = e.target\n//     if( unsigned ){\n//         if( value >= 0 ){\n//             changeTrigger( field, value)\n//             setCurrent( value )\n//         }\n//     }else{\n//         changeTrigger( field, value)\n//         setCurrent( value )\n//     }\n// }\nuseEffect(function(){setCurrent(defaultValue);},[defaultValue]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-100-pct p-1 m-t-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"block text-16-px\",children:field.field_name})}),/*#__PURE__*/_jsx(\"div\",{className:\"m-t-0-5\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:2,className:\"p-t-0-5 p-b-0-5 p-l-1 text-16-px block w-100-pct border-1\",placeholder:\"\",onChange:fieldChangeData,value:current})})]});});","map":{"version":3,"names":["useState","useEffect","props","field","changeTrigger","defaultValue","unsigned","current","setCurrent","decimalError","setDecimalError","validateDecimal","decimal","decimalRegex","test","parseFloat","fieldChangeData","e","value","target","field_name"],"sources":["D:/Nhan/DIPE_V2/Client/ClientServer/APP/src/cpn/client/version/inputs/decimal.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nexport default (props) => {\r\n    const { field, changeTrigger, defaultValue, unsigned } = props;\r\n    const [current, setCurrent] = useState(defaultValue ? defaultValue : \"\")\r\n\r\n    const [decimalError, setDecimalError] = useState(false);\r\n\r\n    const validateDecimal = (decimal, unsigned) => {\r\n        const decimalRegex = /^-?\\d+(\\.\\d+)?$/;\r\n        if (unsigned) {\r\n            return decimalRegex.test(decimal) && parseFloat(decimal) >= 0;\r\n        } else {\r\n            return decimalRegex.test(decimal);\r\n        }\r\n    };\r\n\r\n    const fieldChangeData = (e) => {\r\n        const { value } = e.target;\r\n        setCurrent(value);\r\n        if (validateDecimal(value, unsigned) || value === '') {\r\n            setDecimalError(false);\r\n            changeTrigger(field, value);\r\n        } else {\r\n            setDecimalError(true);\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n    // const fieldChangeData = (e) => {\r\n    //     const { value } = e.target\r\n    //     if( unsigned ){\r\n    //         if( value >= 0 ){\r\n    //             changeTrigger( field, value)\r\n    //             setCurrent( value )\r\n    //         }\r\n    //     }else{\r\n    //         changeTrigger( field, value)\r\n    //         setCurrent( value )\r\n    //     }\r\n    // }\r\n\r\n    useEffect(() => {\r\n        setCurrent(defaultValue)\r\n    }, [defaultValue])\r\n\r\n    return (\r\n        <div className=\"w-100-pct p-1 m-t-1\">\r\n            <div>\r\n                <span className=\"block text-16-px\">{field.field_name}</span>\r\n            </div>\r\n            <div className=\"m-t-0-5\">\r\n                <input type=\"number\" step={2}\r\n                    className=\"p-t-0-5 p-b-0-5 p-l-1 text-16-px block w-100-pct border-1\"\r\n                    placeholder=\"\" onChange={fieldChangeData} value={current}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"6HAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,wFAE5C,eAAe,SAACC,KAAK,CAAK,CACtB,GAAQC,MAAK,CAA4CD,KAAK,CAAtDC,KAAK,CAAEC,aAAa,CAA6BF,KAAK,CAA/CE,aAAa,CAAEC,YAAY,CAAeH,KAAK,CAAhCG,YAAY,CAAEC,QAAQ,CAAKJ,KAAK,CAAlBI,QAAQ,CACpD,cAA8BN,QAAQ,CAACK,YAAY,CAAGA,YAAY,CAAG,EAAE,CAAC,wCAAjEE,OAAO,eAAEC,UAAU,eAE1B,eAAwCR,QAAQ,CAAC,KAAK,CAAC,yCAAhDS,YAAY,eAAEC,eAAe,eAEpC,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,OAAO,CAAEN,QAAQ,CAAK,CAC3C,GAAMO,aAAY,CAAG,iBAAiB,CACtC,GAAIP,QAAQ,CAAE,CACV,MAAOO,aAAY,CAACC,IAAI,CAACF,OAAO,CAAC,EAAIG,UAAU,CAACH,OAAO,CAAC,EAAI,CAAC,CACjE,CAAC,IAAM,CACH,MAAOC,aAAY,CAACC,IAAI,CAACF,OAAO,CAAC,CACrC,CACJ,CAAC,CAED,GAAMI,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,CAAC,CAAK,CAC3B,GAAQC,MAAK,CAAKD,CAAC,CAACE,MAAM,CAAlBD,KAAK,CACbV,UAAU,CAACU,KAAK,CAAC,CACjB,GAAIP,eAAe,CAACO,KAAK,CAAEZ,QAAQ,CAAC,EAAIY,KAAK,GAAK,EAAE,CAAE,CAClDR,eAAe,CAAC,KAAK,CAAC,CACtBN,aAAa,CAACD,KAAK,CAAEe,KAAK,CAAC,CAC/B,CAAC,IAAM,CACHR,eAAe,CAAC,IAAI,CAAC,CACzB,CACJ,CAAC,CAKD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAT,SAAS,CAAC,UAAM,CACZO,UAAU,CAACH,YAAY,CAAC,CAC5B,CAAC,CAAE,CAACA,YAAY,CAAC,CAAC,CAElB,mBACI,aAAK,SAAS,CAAC,qBAAqB,wBAChC,kCACI,aAAM,SAAS,CAAC,kBAAkB,UAAEF,KAAK,CAACiB,UAAU,EAAQ,EAC1D,cACN,YAAK,SAAS,CAAC,SAAS,uBACpB,cAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,CAAE,CACzB,SAAS,CAAC,2DAA2D,CACrE,WAAW,CAAC,EAAE,CAAC,QAAQ,CAAEJ,eAAgB,CAAC,KAAK,CAAET,OAAQ,EAC3D,EACA,GACJ,CAEd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}