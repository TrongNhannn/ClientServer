{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nhan\\\\DIPE_V2\\\\Client\\\\ClientServer\\\\APP\\\\src\\\\cpn\\\\client\\\\users\\\\edituser.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport $ from 'jquery';\nimport { Navbar, Horizon } from '../../navbar';\nimport ProjectCard from '../projects/suprojects/projectCard';\nimport { Varchar } from '../version/inputs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default _s(() => {\n  _s();\n  const dispatch = useDispatch();\n  const [error, setError] = useState({});\n  const {\n    credential_string\n  } = useParams();\n  const {\n    Alert,\n    Confirm,\n    pages\n  } = useSelector(state => state);\n  const [user, setUser] = useState({});\n  const [height, setHeight] = useState(0);\n  const [projects, setProjects] = useState({\n    own: {\n      success: false\n    },\n    partner: {\n      success: false\n    },\n    use: {\n      success: false\n    }\n  });\n  const al = new Alert(dispatch);\n  const cf = new Confirm(dispatch);\n  const [offset, setOffset] = useState({\n    x: -500,\n    y: -500\n  });\n  const props = [{\n    name: \"fullname\",\n    label: \"Họ tên\"\n  }, {\n    name: \"email\",\n    label: \"Email\"\n  }, {\n    name: \"phone\",\n    label: \"Di động\"\n  }, {\n    name: \"address\",\n    label: \"Địa chỉ\"\n  }];\n  const [input, setInput] = useState({});\n  const validateField = function (field, value) {\n    let updateError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    let errorMessage = \"\";\n    switch (field) {\n      case \"account_string\":\n        if (!value || value.length < 3 || value.length > 20) {\n          errorMessage = \"Tên đăng nhập từ 3-20 ký tự\";\n        }\n        break;\n      case \"pwd_string\":\n        if (!value || value.length < 8) {\n          errorMessage = \"Mật khẩu phải có ít nhất 8 ký tự\";\n        }\n        break;\n      case \"account_role_label\":\n        if (!value) {\n          errorMessage = \"Vui lòng chọn loại tài khoản\";\n        }\n        break;\n      case \"fullname\":\n        if (!value || value.length < 1) {\n          errorMessage = \"Vui lòng nhập tên người dùng\";\n        }\n        break;\n      case \"email\":\n        const emailRegex = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\n        if (!value || !emailRegex.test(value)) {\n          errorMessage = \"Vui lòng nhập địa chỉ email hợp lệ\";\n        }\n        break;\n      case \"phone\":\n        const phoneRegex = /^(\\+\\d{1,2})?\\d{10}$/;\n        if (!value || !phoneRegex.test(value)) {\n          errorMessage = \"Vui lòng nhập số điện thoại hợp lệ\";\n        }\n        break;\n      case \"address\":\n        if (!value || value.length < 1) {\n          errorMessage = \"Vui lòng nhập địa chỉ\";\n        }\n        break;\n      default:\n        break;\n    }\n    if (updateError) {\n      setError(prevError => ({\n        ...prevError,\n        [field]: errorMessage\n      }));\n    }\n    return errorMessage;\n  };\n  const {\n    urls,\n    bottomUrls\n  } = useSelector(state => state.navbarLinks.su);\n  const {\n    navState,\n    unique_string,\n    proxy,\n    defaultImage\n  } = useSelector(state => state);\n  const {\n    titleCase\n  } = useSelector(state => state.functions);\n  useEffect(() => {\n    dispatch({\n      type: \"setNavBarHighLight\",\n      payload: {\n        url_id: 2\n      }\n    });\n    const height = $('#ava-container').width() * 75 / 100;\n    setHeight(height);\n    fetch(`${proxy()}/api/${unique_string}/user/getall/${credential_string}`).then(res => res.json()).then(resp => {\n      const {\n        data,\n        success\n      } = resp;\n      if (data != undefined && data.length > 0) {\n        const nameSplited = data[0].fullname.split(\" \");\n        const usr = {\n          ...data[0],\n          name: nameSplited[nameSplited.length - 1]\n        };\n        // console.log(usr)\n        setUser(usr);\n      }\n\n      // fetch(`${proxy}/api/${unique_string}/projects/of/${credential_string}`).then(res => res.json())\n      //     .then(resp => {\n      //         const { success, projects } = resp;\n      //         setProjects(projects)\n      //     })\n    });\n  }, []);\n  window.onresize = () => {\n    const height = $('#ava-container').width() * 75 / 100;\n    setHeight(height);\n  };\n  const inputBox = (e, key) => {\n    const $target = $(e.target);\n    const targetOffset = $target.offset();\n    const {\n      left,\n      top\n    } = targetOffset;\n    setInput({\n      key,\n      value: user[key]\n    });\n    setOffset({\n      x: left,\n      y: top + 32\n    });\n    $('#input-box').focus();\n  };\n  const enterTrigger = e => {\n    if (e.keyCode === 13) {\n      submitChange();\n    }\n  };\n  // Hàm kiểm tra tính hợp lệ của từng trường và cập nhật lỗi nếu cần\n\n  // Hàm kiểm tra tất cả các trường và cập nhật thông báo lỗi\n  const validateAllFieldsAndUpdateErrors = () => {\n    let allValid = true;\n    props.forEach(prop => {\n      const errorMessage = validateField(prop.name, user[prop.name], false);\n      if (errorMessage) {\n        setError(prevError => ({\n          ...prevError,\n          [prop.name]: errorMessage\n        }));\n        allValid = false;\n      }\n    });\n    return allValid;\n  };\n\n  // Hàm xử lý việc gửi yêu cầu cập nhật thông tin người dùng\n  const submitChange = () => {\n    if (!validateAllFieldsAndUpdateErrors()) {\n      al.failure(\"Thất bại\", \"Vui lòng điền đầy đủ và chính xác thông tin\");\n      return;\n    }\n    const apiUrl = `${proxy()}/api/${unique_string}/user/update/${user.credential_string}`;\n    // Gửi yêu cầu POST đến máy chủ với thông tin người dùng\n    fetch(apiUrl, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then(response => response.json()).then(data => {\n      if (data.success) {\n        // Xử lý thành công\n        al.success(\"Thành công\", \"Cập nhật thông tin người dùng thành công\");\n      } else {\n        // Xử lý lỗi\n        al.failure(\"Thất bại\", \"Cập nhật thông tin người dùng thất bại\");\n      }\n    }).catch(error => {\n      console.error('Lỗi khi gửi yêu cầu:', error);\n    });\n  };\n  function redirectTo(url) {\n    window.location.href = \"/su/users\";\n  }\n  const discardChange = () => {\n    setOffset({\n      x: -500,\n      y: -500\n    });\n  };\n  const changeUserData = (e, prop) => {\n    const newUser = user;\n    newUser[prop] = e.target.value;\n    setUser(newUser);\n  };\n  const askUserRole = () => {\n    const changeRole = role => {\n      const {\n        label,\n        value\n      } = role;\n      setUser({\n        ...user,\n        account_role: value\n      });\n    };\n    const roles = [{\n      id: 0,\n      label: \"Người dùng\",\n      value: \"user\"\n    }, {\n      id: 1,\n      label: \"Người quản trị\",\n      value: \"admin\"\n    }];\n    cf.askForSelection(\"Chọn quyền\", \"\", changeRole, roles);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed-default fullscreen main-bg overflow flex flex-no-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      urls: urls\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"app-container\",\n      className: `app fixed-default overflow ${!navState ? \"app-stretch\" : \"app-scaled\"}`,\n      style: {\n        height: \"100vh\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Horizon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-1\",\n        id: \"app-scrollBox\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-1 min-height-full-screen column\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-100-pct\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-no-wrap bg-white shadow-blur\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"fill-available p-1\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \" C\\u1EADp nh\\u1EADt ng\\u01B0\\u1EDDi d\\xF9ng \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-48-px flex flex-middle\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-72-px pointer order-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"block p-1\",\n                    onClick: () => {\n                      navTrigger();\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"block w-24-px border-3-top\",\n                      style: {\n                        marginTop: \"4px\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"block w-24-px border-3-top\",\n                      style: {\n                        marginTop: \"4px\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"block w-24-px border-3-top\",\n                      style: {\n                        marginTop: \"4px\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"m-t-0-5 fill-available bg-white shadow-blur\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-100-pct h-fit column p-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-no-wrap border-1-bottom\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"p-0-5 text-16-px block fill-available no-border\",\n                  placeholder: \"Search\",\n                  spellCheck: \"false\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-no-wrap flex-aligned\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"border-1-right w-48-px\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"w-28-px block mg-auto\",\n                      src: \"/assets/icon/viewmode/grid.png\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-100-pct m-t-1\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-50-pct mg-auto p-1 bg-white\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-32-px text-center p-0-5\",\n                    children: \"C\\u1EADp nh\\u1EADt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 41\n                  }, this), props.map(prop => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-100-pct p-1 m-t-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"block text-16-px\",\n                          children: prop.label\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 293,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 292,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"m-t-0-5\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          className: \"p-t-0-5 p-b-0-5 p-l-1 text-16-px block w-100-pct border-1\",\n                          placeholder: \"\",\n                          onChange: e => {\n                            changeUserData(e, prop.name);\n                          },\n                          onBlur: e => {\n                            validateField(prop.name, e.target.value, true);\n                          },\n                          onInput: e => {\n                            validateField(prop.name, e.target.value, true);\n                          },\n                          defaultValue: user[prop.name]\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 296,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 295,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500 block w-80-pct \",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"rel p-b-0-5\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"abs\",\n                            children: /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"block text-red text-12-px\",\n                              children: error[prop.name] && /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"text-red text-14-px\",\n                                children: error[prop.name]\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 310,\n                                columnNumber: 90\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 309,\n                              columnNumber: 69\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 307,\n                            columnNumber: 65\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 306,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 305,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 53\n                    }, this)\n                  }, prop.name, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 49\n                  }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-100-pct p-1 m-t-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"block text-16-px\",\n                          children: \"Quyền\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 327,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"m-t-0-5\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          className: \"p-t-0-5 p-b-0-5 p-l-1 text-16-px block w-100-pct border-1\",\n                          placeholder: \"\",\n                          onFocus: askUserRole,\n                          value: user.account_role == \"user\" ? \"Người dùng\" : \"Người quản trị\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 330,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 329,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-100-pct m-t-1 flex flex-no-wrap p-0-5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: submitChange,\n                      className: \"w-max-content p-0-5 p-l-1 p-r-1 m-0-5 shadow-blur shadow-hover bg-theme-color no-border block text-16-px white pointer shadow-blur shadow-hover\",\n                      children: \"C\\u1EADp nh\\u1EADt\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 339,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: redirectTo,\n                      className: \"w-max-content p-0-5 p-l-1 p-r-1 m-0-5 shadow-blur shadow-hover bg-theme-color no-border block text-16-px white pointer shadow-blur shadow-hover\",\n                      children: \"Quay v\\u1EC1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 9\n  }, this);\n}, \"BfN6mO6GYADVYjZw2RyvRUV5Wis=\", false, function () {\n  return [useDispatch, useParams, useSelector, useSelector, useSelector, useSelector];\n});","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","useParams","$","Navbar","Horizon","ProjectCard","Varchar","dispatch","error","setError","credential_string","Alert","Confirm","pages","state","user","setUser","height","setHeight","projects","setProjects","own","success","partner","use","al","cf","offset","setOffset","x","y","props","name","label","input","setInput","validateField","field","value","updateError","errorMessage","length","emailRegex","test","phoneRegex","prevError","urls","bottomUrls","navbarLinks","su","navState","unique_string","proxy","defaultImage","titleCase","functions","type","payload","url_id","width","fetch","then","res","json","resp","data","undefined","nameSplited","fullname","split","usr","window","onresize","inputBox","e","key","$target","target","targetOffset","left","top","focus","enterTrigger","keyCode","submitChange","validateAllFieldsAndUpdateErrors","allValid","forEach","prop","failure","apiUrl","method","headers","body","JSON","stringify","response","catch","console","redirectTo","url","location","href","discardChange","changeUserData","newUser","askUserRole","changeRole","role","account_role","roles","id","askForSelection","navTrigger","marginTop","map"],"sources":["D:/Nhan/DIPE_V2/Client/ClientServer/APP/src/cpn/client/users/edituser.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport $ from 'jquery';\r\n\r\nimport { Navbar, Horizon } from '../../navbar';\r\nimport ProjectCard from '../projects/suprojects/projectCard'\r\n\r\n\r\nimport { Varchar } from '../version/inputs';\r\n\r\n\r\n\r\nexport default () => {\r\n    const dispatch = useDispatch();\r\n    const [error, setError] = useState({});\r\n\r\n    const { credential_string } = useParams();\r\n    const { Alert, Confirm, pages } = useSelector(state => state);\r\n    const [user, setUser] = useState({})\r\n    const [height, setHeight] = useState(0)\r\n    const [projects, setProjects] = useState({\r\n        own: { success: false },\r\n        partner: { success: false },\r\n        use: { success: false },\r\n    })\r\n    const al = new Alert(dispatch);\r\n    const cf = new Confirm(dispatch)\r\n    const [offset, setOffset] = useState({\r\n        x: -500,\r\n        y: -500,\r\n    })\r\n\r\n    const props = [\r\n        { name: \"fullname\", label: \"Họ tên\" },\r\n        { name: \"email\", label: \"Email\" },\r\n        { name: \"phone\", label: \"Di động\" },\r\n        { name: \"address\", label: \"Địa chỉ\" },\r\n    ]\r\n\r\n\r\n    const [input, setInput] = useState({})\r\n\r\n\r\n    const validateField = (field, value, updateError = false) => {\r\n        let errorMessage = \"\";\r\n        switch (field) {\r\n            case \"account_string\":\r\n                if (!value || value.length < 3 || value.length > 20) {\r\n                    errorMessage = \"Tên đăng nhập từ 3-20 ký tự\";\r\n                }\r\n                break;\r\n            case \"pwd_string\":\r\n                if (!value || value.length < 8) {\r\n                    errorMessage = \"Mật khẩu phải có ít nhất 8 ký tự\";\r\n                }\r\n                break;\r\n            case \"account_role_label\":\r\n                if (!value) {\r\n                    errorMessage = \"Vui lòng chọn loại tài khoản\";\r\n                }\r\n                break;\r\n            case \"fullname\":\r\n                if (!value || value.length < 1) {\r\n                    errorMessage = \"Vui lòng nhập tên người dùng\";\r\n                }\r\n                break;\r\n            case \"email\":\r\n                const emailRegex = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\r\n                if (!value || !emailRegex.test(value)) {\r\n                    errorMessage = \"Vui lòng nhập địa chỉ email hợp lệ\";\r\n                }\r\n                break;\r\n            case \"phone\":\r\n                const phoneRegex = /^(\\+\\d{1,2})?\\d{10}$/;\r\n                if (!value || !phoneRegex.test(value)) {\r\n                    errorMessage = \"Vui lòng nhập số điện thoại hợp lệ\";\r\n                }\r\n                break;\r\n            case \"address\":\r\n                if (!value || value.length < 1) {\r\n                    errorMessage = \"Vui lòng nhập địa chỉ\";\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        if (updateError) {\r\n            setError((prevError) => ({ ...prevError, [field]: errorMessage }));\r\n        }\r\n        return errorMessage;\r\n\r\n    };\r\n    const { urls, bottomUrls } = useSelector(state => state.navbarLinks.su)\r\n    const { navState, unique_string, proxy, defaultImage } = useSelector(state => state);\r\n    const { titleCase } = useSelector(state => state.functions)\r\n\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: \"setNavBarHighLight\",\r\n            payload: { url_id: 2 }\r\n        })\r\n\r\n        const height = $('#ava-container').width() * 75 / 100;\r\n        setHeight(height)\r\n\r\n        fetch(`${proxy()}/api/${unique_string}/user/getall/${credential_string}`).then(res => res.json())\r\n            .then(resp => {\r\n                const { data, success } = resp;\r\n                if (data != undefined && data.length > 0) {\r\n                    const nameSplited = data[0].fullname.split(\" \");\r\n                    const usr = { ...data[0], name: nameSplited[nameSplited.length - 1] }\r\n                    // console.log(usr)\r\n                    setUser(usr)\r\n                }\r\n\r\n                // fetch(`${proxy}/api/${unique_string}/projects/of/${credential_string}`).then(res => res.json())\r\n                //     .then(resp => {\r\n                //         const { success, projects } = resp;\r\n                //         setProjects(projects)\r\n                //     })\r\n\r\n            })\r\n    }, [])\r\n\r\n    window.onresize = () => {\r\n        const height = $('#ava-container').width() * 75 / 100;\r\n        setHeight(height)\r\n    }\r\n\r\n    const inputBox = (e, key) => {\r\n        const $target = $(e.target);\r\n        const targetOffset = $target.offset()\r\n        const { left, top } = targetOffset;\r\n        setInput({ key, value: user[key] })\r\n        setOffset({ x: left, y: top + 32 })\r\n        $('#input-box').focus()\r\n    }\r\n\r\n    const enterTrigger = (e) => {\r\n        if (e.keyCode === 13) {\r\n            submitChange()\r\n        }\r\n    }\r\n    // Hàm kiểm tra tính hợp lệ của từng trường và cập nhật lỗi nếu cần\r\n\r\n\r\n    // Hàm kiểm tra tất cả các trường và cập nhật thông báo lỗi\r\n    const validateAllFieldsAndUpdateErrors = () => {\r\n        let allValid = true;\r\n\r\n        props.forEach(prop => {\r\n            const errorMessage = validateField(prop.name, user[prop.name], false);\r\n            if (errorMessage) {\r\n                setError(prevError => ({ ...prevError, [prop.name]: errorMessage }));\r\n                allValid = false;\r\n            }\r\n        });\r\n\r\n        return allValid;\r\n    };\r\n\r\n    // Hàm xử lý việc gửi yêu cầu cập nhật thông tin người dùng\r\n    const submitChange = () => {\r\n        if (!validateAllFieldsAndUpdateErrors()) {\r\n            al.failure(\"Thất bại\", \"Vui lòng điền đầy đủ và chính xác thông tin\");\r\n            return;\r\n        }\r\n\r\n        const apiUrl = `${proxy()}/api/${unique_string}/user/update/${user.credential_string}`;\r\n        // Gửi yêu cầu POST đến máy chủ với thông tin người dùng\r\n        fetch(apiUrl, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(user),\r\n\r\n        })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                if (data.success) {\r\n                    // Xử lý thành công\r\n                    al.success(\"Thành công\", \"Cập nhật thông tin người dùng thành công\");\r\n                } else {\r\n                    // Xử lý lỗi\r\n                    al.failure(\"Thất bại\", \"Cập nhật thông tin người dùng thất bại\");\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error('Lỗi khi gửi yêu cầu:', error);\r\n            });\r\n    };\r\n\r\n\r\n    function redirectTo(url) {\r\n        window.location.href = \"/su/users\";\r\n    }\r\n    const discardChange = () => {\r\n        setOffset({ x: -500, y: -500 })\r\n    }\r\n\r\n    const changeUserData = (e, prop) => {\r\n        const newUser = user;\r\n        newUser[prop] = e.target.value;\r\n        setUser(newUser);\r\n    }\r\n\r\n    const askUserRole = () => {\r\n        const changeRole = (role) => {\r\n            const { label, value } = role;\r\n            setUser({ ...user, account_role: value })\r\n        }\r\n\r\n        const roles = [\r\n            { id: 0, label: \"Người dùng\", value: \"user\" },\r\n            { id: 1, label: \"Người quản trị\", value: \"admin\" },\r\n        ]\r\n\r\n        cf.askForSelection(\"Chọn quyền\", \"\", changeRole, roles)\r\n    }\r\n\r\n    return (\r\n\r\n        <div className=\"fixed-default fullscreen main-bg overflow flex flex-no-wrap\">\r\n            <Navbar urls={urls}\r\n            />\r\n            <div id=\"app-container\" className={`app fixed-default overflow ${!navState ? \"app-stretch\" : \"app-scaled\"}`} style={{ height: \"100vh\" }}>\r\n                <Horizon />\r\n                <div className=\"p-1\" id=\"app-scrollBox\">\r\n                    <div className=\"p-1 min-height-full-screen column\">\r\n                        <div className=\"w-100-pct\">\r\n                            <div className=\"flex flex-no-wrap bg-white shadow-blur\">\r\n                                <div className=\"fill-available p-1\">\r\n                                    <span> Cập nhật người dùng </span>\r\n                                </div>\r\n                                <div className=\"w-48-px flex flex-middle\">\r\n                                    <div className=\"w-72-px pointer order-0\">\r\n                                        <div className=\"block p-1\" onClick={() => { navTrigger() }}>\r\n                                            <span className=\"block w-24-px border-3-top\" style={{ marginTop: \"4px\" }} />\r\n                                            <span className=\"block w-24-px border-3-top\" style={{ marginTop: \"4px\" }} />\r\n                                            <span className=\"block w-24-px border-3-top\" style={{ marginTop: \"4px\" }} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"m-t-0-5 fill-available bg-white shadow-blur\">\r\n                            <div className=\"w-100-pct h-fit column p-1\">\r\n                                <div className=\"flex flex-no-wrap border-1-bottom\">\r\n                                    <input className=\"p-0-5 text-16-px block fill-available no-border\"\r\n                                        placeholder=\"Search\"\r\n                                        spellCheck=\"false\"\r\n                                    />\r\n                                    <div className=\"flex flex-no-wrap flex-aligned\">\r\n                                        <div className=\"border-1-right w-48-px\">\r\n                                            <img className=\"w-28-px block mg-auto\" src=\"/assets/icon/viewmode/grid.png\" />\r\n                                        </div>\r\n                                        <div className=\"p-1\">\r\n                                            {/* <button onClick={redirectToInput} className=\"bold text-24-px no-border bg-green white border-radius-50-pct pointer\" style={{ width: \"32px\", height: \"32px\" }}>+</button> */}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"w-100-pct m-t-1\">\r\n                                    <div className=\"w-50-pct mg-auto p-1 bg-white\">\r\n                                        <span className=\"block text-32-px text-center p-0-5\">Cập nhật</span>\r\n                                        {/* {\r\n                                            props.map(prop =>\r\n                                                <div className=\"w-100-pct p-1 m-t-1\">\r\n                                                    <div>\r\n                                                        <div>\r\n                                                            <span className=\"block text-16-px\">{prop.label}</span>\r\n                                                        </div>\r\n                                                        <div className=\"m-t-0-5\">\r\n                                                            <input type=\"text\"\r\n                                                                className=\"p-t-0-5 p-b-0-5 p-l-1 text-16-px block w-100-pct border-1\"\r\n                                                                placeholder=\"\" onChange={(e) => { changeUserData(e, prop.name) }} defaultValue={user[prop.name]}\r\n                                                            />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                            )\r\n                                        } */}\r\n\r\n                                        {\r\n                                            props.map(prop =>\r\n                                                <div className=\"w-100-pct p-1 m-t-1\" key={prop.name}>\r\n                                                    <div>\r\n                                                        <div>\r\n                                                            <span className=\"block text-16-px\">{prop.label}</span>\r\n                                                        </div>\r\n                                                        <div className=\"m-t-0-5\">\r\n                                                            <input type=\"text\"\r\n                                                                className=\"p-t-0-5 p-b-0-5 p-l-1 text-16-px block w-100-pct border-1\"\r\n                                                                placeholder=\"\"\r\n                                                                onChange={(e) => { changeUserData(e, prop.name) }}\r\n                                                                onBlur={(e) => { validateField(prop.name, e.target.value, true) }}\r\n                                                                onInput={(e) => { validateField(prop.name, e.target.value, true) }}\r\n                                                                defaultValue={user[prop.name]}\r\n                                                            />\r\n                                                        </div>\r\n                                                        <span className=\"text-red-500 block w-80-pct \">\r\n                                                            <div className=\"rel p-b-0-5\">\r\n                                                                <div className=\"abs\">\r\n\r\n                                                                    <span className=\"block text-red text-12-px\">\r\n                                                                    {error[prop.name] && <div className=\"text-red text-14-px\">{error[prop.name]}</div>}\r\n                                                                    </span>\r\n                                                                </div>\r\n\r\n                                                            </div>\r\n                                                        </span>\r\n                                                        \r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n\r\n\r\n\r\n                                        <div className=\"w-100-pct p-1 m-t-1\">\r\n                                            <div>\r\n                                                <div>\r\n                                                    <span className=\"block text-16-px\">{\"Quyền\"}</span>\r\n                                                </div>\r\n                                                <div className=\"m-t-0-5\">\r\n                                                    <input type=\"text\"\r\n                                                        className=\"p-t-0-5 p-b-0-5 p-l-1 text-16-px block w-100-pct border-1\"\r\n                                                        placeholder=\"\" onFocus={askUserRole} value={user.account_role == \"user\" ? \"Người dùng\" : \"Người quản trị\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"w-100-pct m-t-1 flex flex-no-wrap p-0-5\">\r\n                                            <button onClick={submitChange} className=\"w-max-content p-0-5 p-l-1 p-r-1 m-0-5 shadow-blur shadow-hover bg-theme-color no-border block text-16-px white pointer shadow-blur shadow-hover\">Cập nhật</button>\r\n                                            <button onClick={redirectTo} className=\"w-max-content p-0-5 p-l-1 p-r-1 m-0-5 shadow-blur shadow-hover bg-theme-color no-border block text-16-px white pointer shadow-blur shadow-hover\">Quay về</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}