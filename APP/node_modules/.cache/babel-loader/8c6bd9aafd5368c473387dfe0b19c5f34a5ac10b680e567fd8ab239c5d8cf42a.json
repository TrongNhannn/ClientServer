{"ast":null,"code":"import _slicedToArray from\"D:/Nhan/DIPE_V2/Client/DIPE/APP/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default(function(props){var fields=props.fields,data=props.data,maxRow=props.maxRow,index=props.index;var rows=10;if(maxRow!=undefined){rows=maxRow;}var _useState=useState(0),_useState2=_slicedToArray(_useState,2),position=_useState2[0],setPos=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),view=_useState4[0],setView=_useState4[1];useEffect(function(){var initialView=data.slice(position*rows,(position+1)*rows);setView(initialView);},[data]);useEffect(function(){var newView=data.slice(position*rows,(position+1)*rows);setView(newView);},[position]);var movePage=function movePage(step){var totalPages=Math.ceil(data.length/rows);if(step>0){if(position<totalPages-1){setPos(position+1);}}else{if(position>0){setPos(position-1);}}/* STEP */};return/*#__PURE__*/_jsxs(\"div\",{className:\"table-view shadow-blur\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-100-pct\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"block text-16-px\",children:[\"Hi\\u1EC3n th\\u1ECB \",view.length,\" trong \",data.length,\" k\\u1EBFt qu\\u1EA3.\"]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-100-pct\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{className:\"header p-0-5\",children:fields.map(function(field){return/*#__PURE__*/_jsx(\"th\",{className:\"text-left\",children:/*#__PURE__*/_jsx(\"span\",{className:\"block text-left text-16-px p-0-5\",children:field.name})});})})}),/*#__PURE__*/_jsx(\"tbody\",{children:view.map(function(row){return/*#__PURE__*/_jsx(\"tr\",{children:fields.map(function(field){return/*#__PURE__*/_jsx(\"td\",{className:\"p-0-5\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-16\",children:row[field.alias]})});})},row[index]);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-no-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-0-5 pointer hover\",onClick:function onClick(){movePage(-1);},children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/icon/left-arrow.png\",className:\"w-24-px block\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-0-5 pointer hover\",onClick:function onClick(){movePage(1);},children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/icon/right-arrow.png\",className:\"w-24-px block\"})})]})]});});","map":{"version":3,"names":["useState","useEffect","props","fields","data","maxRow","index","rows","undefined","position","setPos","view","setView","initialView","slice","newView","movePage","step","totalPages","Math","ceil","length","map","field","name","row","alias"],"sources":["D:/Nhan/DIPE_V2/Client/DIPE/APP/src/cpn/widgets/tableView.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nexport default (props) => {\r\n    const { fields, data, maxRow, index } = props;\r\n\r\n    let rows = 10;\r\n    if( maxRow != undefined ){\r\n        rows = maxRow\r\n    }\r\n    const [ position, setPos ] = useState(0)\r\n    const [ view, setView ] = useState([])\r\n\r\n    useEffect( () => {\r\n        const initialView = data.slice( position * rows, (position + 1 ) * rows );\r\n        setView( initialView )\r\n    }, [data])\r\n\r\n    useEffect( () => {\r\n        const newView = data.slice( position * rows, (position + 1 ) * rows );\r\n        setView( newView )\r\n    }, [position])\r\n\r\n    const movePage = (step) => {\r\n        const totalPages = Math.ceil(data.length / rows);\r\n        if( step > 0 ){\r\n            if( position < totalPages - 1 ){\r\n                setPos( position + 1 )\r\n            }\r\n        }else{\r\n            if( position > 0 ){\r\n                setPos( position - 1 )\r\n            }\r\n        }\r\n        /* STEP */\r\n    }\r\n\r\n    return(\r\n        <div className=\"table-view shadow-blur\">\r\n            <div className=\"w-100-pct\">\r\n                <span className=\"block text-16-px\">Hiển thị { view.length } trong { data.length } kết quả.</span>\r\n            </div>\r\n            <table className=\"w-100-pct\">\r\n                <thead>\r\n                    <tr className=\"header p-0-5\">\r\n                        {\r\n                            fields.map( field =>\r\n                                <th className=\"text-left\">\r\n                                    <span className=\"block text-left text-16-px p-0-5\">{ field.name }</span>\r\n                                </th>\r\n                            )\r\n                        }\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                { view.map( row =>\r\n                        <tr key={ row[ index ] }>\r\n                        {\r\n                            fields.map( field =>\r\n                                <td className=\"p-0-5\">\r\n                                    <span className=\"text-16\">{ row[ field.alias ] }</span>\r\n                                </td>\r\n                            )\r\n                        }\r\n                        </tr>\r\n                )}\r\n\r\n                </tbody>\r\n            </table>\r\n            <div className=\"flex flex-no-wrap\">\r\n            {/* navigation buttons */}\r\n                <div className=\"p-0-5 pointer hover\" onClick={ () => { movePage(-1) } }>\r\n                    <img src=\"/assets/icon/left-arrow.png\" className=\"w-24-px block\"/>\r\n                </div>\r\n                <div className=\"p-0-5 pointer hover\" onClick={ () => { movePage(1) } }>\r\n                    <img src=\"/assets/icon/right-arrow.png\" className=\"w-24-px block\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}