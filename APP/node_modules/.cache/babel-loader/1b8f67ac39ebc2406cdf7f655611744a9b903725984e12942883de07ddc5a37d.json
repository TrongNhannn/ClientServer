{"ast":null,"code":"import _objectSpread from\"C:/Users/trongnhan/OneDrive/M\\xE1y t\\xEDnh/ClientServer/APP/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/trongnhan/OneDrive/M\\xE1y t\\xEDnh/ClientServer/APP/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import ConstraintType from'./constraint-box-cpns/constraint-type';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var boxHeight=250;export default(function(props){var constraint=props.constraint,renderContraintType=props.renderContraintType,renderTableName=props.renderTableName,renderFieldName=props.renderFieldName,removeConstraint=props.removeConstraint;var _useState=useState(constraint),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),drop=_useState4[0],setDrop=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),height=_useState6[0],setHeight=_useState6[1];var clickTrigger=function clickTrigger(newValue){var type=newValue.type,value=newValue.value;var newData=_objectSpread({},data);newData[type]=value;setData(newData);};return/*#__PURE__*/_jsx(\"div\",{className:\"rel m-t-1 ml-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-drop bg-white shadow-blur w-100-pct pointer shadow-hover\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-no-wrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-no-wrap fill-available p-1\",onClick:function onClick(){setDrop(!drop);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-25-pct\",children:/*#__PURE__*/_jsx(\"span\",{className:\"block text-16-px\",children:renderContraintType(data.constraint_type)})}),/*#__PURE__*/_jsx(\"div\",{className:\"fill-available\",children:constraint.reference_on!=-1?/*#__PURE__*/_jsx(\"span\",{className:\"block text-16-px\",children:renderFieldName(data.reference_on)}):/*#__PURE__*/_jsx(\"span\",{className:\"block text-16-px\",children:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-25-pct\",children:/*#__PURE__*/_jsx(\"span\",{className:\"block text-16-px\",children:renderTableName(data.reference_on)})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"abs r-0 t-0 flex h-fit\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-32-px flex flex-middle\",children:drop?/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){removeConstraint(constraint.constraint_id);},className:\"w-20-px block\",src:\"/assets/icon/cross-error.png\"}):null})})]})})});});","map":{"version":3,"names":["useState","useEffect","ConstraintType","boxHeight","props","constraint","renderContraintType","renderTableName","renderFieldName","removeConstraint","data","setData","drop","setDrop","height","setHeight","clickTrigger","newValue","type","value","newData","constraint_type","reference_on","constraint_id"],"sources":["C:/Users/trongnhan/OneDrive/Máy tính/ClientServer/APP/src/cpn/client/version/constraint.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport ConstraintType from './constraint-box-cpns/constraint-type';\r\nconst boxHeight = 250;\r\n\r\nexport default (props) => {\r\n    const { constraint,\r\n            renderContraintType,\r\n            renderTableName,\r\n            renderFieldName,\r\n            removeConstraint\r\n        } = props;\r\n\r\n    const [ data, setData ] = useState( constraint );\r\n    const [ drop, setDrop ] = useState(0);\r\n    const [ height, setHeight ] = useState(0);\r\n\r\n    const clickTrigger = ( newValue ) => {\r\n        const { type, value } = newValue;\r\n        const newData = { ...data }\r\n        newData[type] = value;\r\n        setData( newData )\r\n    }\r\n\r\n    return (\r\n        <div className=\"rel m-t-1 ml-auto\">\r\n            <div className=\"field-drop bg-white shadow-blur w-100-pct pointer shadow-hover\">\r\n                <div className=\"flex flex-no-wrap\">\r\n                    <div className=\"flex flex-no-wrap fill-available p-1\" onClick={ () => { setDrop(!drop) } }>\r\n                        <div className=\"w-25-pct\">\r\n                            <span className=\"block text-16-px\">{ renderContraintType(data.constraint_type) }</span>\r\n                        </div>\r\n                        <div className=\"fill-available\">\r\n                        { constraint.reference_on != -1 ?\r\n                            <span className=\"block text-16-px\">{ renderFieldName(data.reference_on) }</span>\r\n                            :\r\n                            <span className=\"block text-16-px\">{ \"\" }</span>\r\n                        }\r\n                        </div>\r\n                        <div className=\"w-25-pct\">\r\n                            <span className=\"block text-16-px\">{ renderTableName(data.reference_on) }</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"abs r-0 t-0 flex h-fit\">\r\n                        <div className=\"w-32-px flex flex-middle\">\r\n                            { drop ?\r\n                                <img onClick={ ()=> { removeConstraint( constraint.constraint_id ) } } className=\"w-20-px block\" src=\"/assets/icon/cross-error.png\"/>\r\n                                : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/*<div className=\"rel w-100-pct shadow-blur\">\r\n                <div className=\"rel no-overflow bg-white w-100-pct ease\" style={{ height: `${ drop ? boxHeight : 0 }px` }}>\r\n                    <div className=\"scroll-y p-1\" style={{ height: boxHeight}}>\r\n                        <div className=\"flex flex-wrap\">\r\n                            <ConstraintType constraint={ data } renderContraintType={ renderContraintType } clickTrigger={ clickTrigger }/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>*/}\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"iSAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,eAAc,KAAM,uCAAuC,CAAC,wFACnE,GAAMC,UAAS,CAAG,GAAG,CAErB,eAAe,SAACC,KAAK,CAAK,CACtB,GAAQC,WAAU,CAKVD,KAAK,CALLC,UAAU,CACVC,mBAAmB,CAInBF,KAAK,CAJLE,mBAAmB,CACnBC,eAAe,CAGfH,KAAK,CAHLG,eAAe,CACfC,eAAe,CAEfJ,KAAK,CAFLI,eAAe,CACfC,gBAAgB,CAChBL,KAAK,CADLK,gBAAgB,CAGxB,cAA0BT,QAAQ,CAAEK,UAAU,CAAE,wCAAxCK,IAAI,eAAEC,OAAO,eACrB,eAA0BX,QAAQ,CAAC,CAAC,CAAC,yCAA7BY,IAAI,eAAEC,OAAO,eACrB,eAA8Bb,QAAQ,CAAC,CAAC,CAAC,yCAAjCc,MAAM,eAAEC,SAAS,eAEzB,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAKC,QAAQ,CAAM,CACjC,GAAQC,KAAI,CAAYD,QAAQ,CAAxBC,IAAI,CAAEC,KAAK,CAAKF,QAAQ,CAAlBE,KAAK,CACnB,GAAMC,QAAO,kBAAQV,IAAI,CAAE,CAC3BU,OAAO,CAACF,IAAI,CAAC,CAAGC,KAAK,CACrBR,OAAO,CAAES,OAAO,CAAE,CACtB,CAAC,CAED,mBACI,YAAK,SAAS,CAAC,mBAAmB,uBAC9B,YAAK,SAAS,CAAC,gEAAgE,uBAC3E,aAAK,SAAS,CAAC,mBAAmB,wBAC9B,aAAK,SAAS,CAAC,sCAAsC,CAAC,OAAO,CAAG,kBAAM,CAAEP,OAAO,CAAC,CAACD,IAAI,CAAC,CAAC,CAAG,wBACtF,YAAK,SAAS,CAAC,UAAU,uBACrB,aAAM,SAAS,CAAC,kBAAkB,UAAGN,mBAAmB,CAACI,IAAI,CAACW,eAAe,CAAC,EAAS,EACrF,cACN,YAAK,SAAS,CAAC,gBAAgB,UAC7BhB,UAAU,CAACiB,YAAY,EAAI,CAAC,CAAC,cAC3B,aAAM,SAAS,CAAC,kBAAkB,UAAGd,eAAe,CAACE,IAAI,CAACY,YAAY,CAAC,EAAS,cAEhF,aAAM,SAAS,CAAC,kBAAkB,UAAG,EAAE,EAAS,EAE9C,cACN,YAAK,SAAS,CAAC,UAAU,uBACrB,aAAM,SAAS,CAAC,kBAAkB,UAAGf,eAAe,CAACG,IAAI,CAACY,YAAY,CAAC,EAAS,EAC9E,GACJ,cACN,YAAK,SAAS,CAAC,wBAAwB,uBACnC,YAAK,SAAS,CAAC,0BAA0B,UACnCV,IAAI,cACF,YAAK,OAAO,CAAG,kBAAK,CAAEH,gBAAgB,CAAEJ,UAAU,CAACkB,aAAa,CAAE,CAAC,CAAG,CAAC,SAAS,CAAC,eAAe,CAAC,GAAG,CAAC,8BAA8B,EAAE,CACnI,IAAI,EAER,EACJ,GACJ,EACJ,EAUJ,CAEd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}