{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import APP_API from'../APP_API';import{BrowserRouter as Router,Routes,Route}from\"react-router-dom\";import\"../css/index.scss\";import{Login,SignUp,SignOut}from'./auth';import{Home,Projects,SuProjects,SuProject,SuUsers,SuUser,Version,TableInput,APIPostInput}from'./client';import DataClient from'./client/version/data-client';import APIFetching from'./client/version/api-fetching';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state;}),proxy=_useSelector.proxy,unique_string=_useSelector.unique_string;var _useSelector2=useSelector(function(state){return state.auth;}),_token=_useSelector2._token,credential_string=_useSelector2.credential_string;useEffect(function(){var specialURLs=[\"/login\",\"/signup\",\"/signout\"];var url=window.location.pathname;if(specialURLs.indexOf(url)===-1){if(!_token){window.location='/login';}}fetch(\"\".concat(proxy,\"/api/\").concat(unique_string,\"/user/getall/\").concat(credential_string)).then(function(res){return res.json();}).then(function(data){var info=data.data[0];dispatch({type:\"initializedUserInfo\",payload:{info:info}});});},[]);return/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exac:true,path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/signup\",element:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/signout\",element:/*#__PURE__*/_jsx(SignOut,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/projects\",element:/*#__PURE__*/_jsx(Projects,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/su/projects\",element:/*#__PURE__*/_jsx(SuProjects,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/su/project/:project_id\",element:/*#__PURE__*/_jsx(SuProject,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/su/users\",element:/*#__PURE__*/_jsx(SuUsers,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/su/user/:credential_string\",element:/*#__PURE__*/_jsx(SuUser,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/su/project/:project_id/version/:version_id\",element:/*#__PURE__*/_jsx(Version,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/su/project/:project_id/version/:version_id/table/:table_id/input\",element:/*#__PURE__*/_jsx(TableInput,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/su/api/post/input/:id_str\",element:/*#__PURE__*/_jsx(APIPostInput,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/fetch/:page_param\",element:/*#__PURE__*/_jsx(APIFetching,{})}),/*#__PURE__*/_jsx(Route,{exac:true,path:\"/data\",element:/*#__PURE__*/_jsx(DataClient,{})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","APP_API","BrowserRouter","Router","Routes","Route","Login","SignUp","SignOut","Home","Projects","SuProjects","SuProject","SuUsers","SuUser","Version","TableInput","APIPostInput","DataClient","APIFetching","App","dispatch","state","proxy","unique_string","auth","_token","credential_string","specialURLs","url","window","location","pathname","indexOf","fetch","then","res","json","data","info","type","payload"],"sources":["D:/Nhan/DIPE_V2/Client/DIPE/APP/src/cpn/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport APP_API from '../APP_API';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes,\r\n  Route,\r\n} from \"react-router-dom\";\r\n\r\nimport \"../css/index.scss\";\r\n\r\nimport { Login, SignUp, SignOut } from './auth';\r\nimport { Home, Projects, SuProjects, SuProject, SuUsers, SuUser, Version, TableInput, APIPostInput } from './client';\r\nimport DataClient from './client/version/data-client';\r\nimport APIFetching from './client/version/api-fetching';\r\n\r\nfunction App() {\r\n    const dispatch = useDispatch()\r\n    const { proxy, unique_string } = useSelector( state => state );\r\n    const { _token, credential_string } = useSelector( state => state.auth );\r\n\r\n    useEffect(() => {\r\n        const specialURLs = [ \"/login\", \"/signup\", \"/signout\" ]\r\n        const url = window.location.pathname;\r\n\r\n        if( specialURLs.indexOf(url) === -1 ){\r\n            if( !_token ){\r\n                window.location = '/login'\r\n            }\r\n        }\r\n\r\n        fetch(`${ proxy }/api/${ unique_string }/user/getall/${ credential_string }`).then( res => res.json() )\r\n        .then( (data) => {\r\n            const info = data.data[0];\r\n\r\n            dispatch({\r\n                type: \"initializedUserInfo\",\r\n                payload: {\r\n                    info\r\n                }\r\n            })\r\n        })\r\n\r\n    }, [])\r\n\r\n\r\n\r\n  return (\r\n      <React.StrictMode>\r\n        <Router>\r\n            <Routes>\r\n                <Route exac path=\"/login\" element={ <Login /> } />\r\n                <Route exac path=\"/signup\" element={ <SignUp /> } />\r\n                <Route exac path=\"/signout\" element={ <SignOut /> } />\r\n                <Route exac path=\"/\" element = { <Home /> } />\r\n                <Route exac path=\"/projects\" element = { <Projects /> } />\r\n                <Route exac path=\"/su/projects\" element = { <SuProjects /> } />\r\n                <Route exac path=\"/su/project/:project_id\" element = { <SuProject /> } />\r\n                <Route exac path=\"/su/users\" element = { <SuUsers /> } />\r\n                <Route exac path=\"/su/user/:credential_string\" element = { <SuUser /> } />\r\n                <Route exac path=\"/su/project/:project_id/version/:version_id\" element = { <Version /> } />\r\n                <Route exac path=\"/su/project/:project_id/version/:version_id/table/:table_id/input\" element = { <TableInput /> } />\r\n                <Route exac path=\"/su/api/post/input/:id_str\" element={ <APIPostInput /> } />\r\n                <Route exac path=\"/fetch/:page_param\" element={ <APIFetching /> } />\r\n                <Route exac path=\"/data\" element={ <DataClient /> } />\r\n            </Routes>\r\n        </Router>\r\n    </React.StrictMode>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}